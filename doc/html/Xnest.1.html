<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3.0//EN">

<!--
  Copyright (c) 1993, 1994  X Consortium
   
   Permission is hereby granted, free of charge, to any person obtaining
   a copy of this software and associated documentation files (the
   "Software"), to deal in the Software without restriction, including
   without limitation the rights to use, copy, modify, merge, publish,
   distribute, sublicense, and/or sell copies of the Software, and to
   permit persons to whom the Software is furnished to do so, subject to
   the following conditions:
   
   The above copyright notice and this permission notice shall be included
   in all copies or substantial portions of the Software.
   
   THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
   OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
   MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
   IN NO EVENT SHALL THE X CONSORTIUM BE LIABLE FOR ANY CLAIM, DAMAGES OR
   OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
   ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
   OTHER DEALINGS IN THE SOFTWARE.
   
   Except as contained in this notice, the name of the X Consortium shall
   not be used in advertising or otherwise to promote the sale, use or
   other dealings in this Software without prior written authorization
   from the X Consortium.
   
   $XFree86: xc/programs/Xserver/hw/xnest/Xnest.man,v 1.9 2005/07/20 00:32:38 dawes Exp $
   
 
-->
<!-- manual page source format generated by PolyglotMan v3.0.8+XFree86, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>XNEST(1) manual page</title>
</head>
<body bgcolor='#efefef' text='black' link='blue' vlink='#551A8B' alink='red'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
Xnest - a nested X server 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<b>Xnest</b>
[-options] 
<h2><a name='sect2' href='#toc2'>Description</a></h2>
<i>Xnest</i> is a client and a server.  <i>Xnest</i> is a client
of the real server which manages windows and graphics requests on its behalf.
<i>Xnest</i> is a server to its own clients.  <i>Xnest</i> manages windows and graphics
requests on their behalf.  To these clients <i>Xnest</i> appears to be a conventional
server. 
<h2><a name='sect3' href='#toc3'>Options</a></h2>
<i>Xnest</i> supports all standard options of the sample server
implementation.  For more details, please see the manual page on your system
for <i>Xserver</i>.  The following additional arguments are supported as well. 
<dl>

<dt><b>-display
<i>string</i></b> </dt>
<dd>This option specifies the display name of the real server that <i>Xnest</i>
should try to connect with.  If it is not provided on the command line <i>Xnest</i>
will read the <i>DISPLAY</i> environment variable in order to find out the same
information. </dd>

<dt><b>-sync</b> </dt>
<dd>This option tells <i>Xnest</i> to synchronize its window and
graphics operations with the real server.  This is a useful option for debugging,
but it will slow down the performance considerably.  It should not be used
unless absolutely necessary. </dd>

<dt><b>-full</b> </dt>
<dd>This option tells <i>Xnest</i> to utilize full
regeneration of real server objects and reopen a new connection to the
real server each time the nested server regenerates.  The sample server
implementation regenerates all objects in the server when the last client
of this server terminates.  When this happens, <i>Xnest</i> by default maintains
the same top level window and the same real server connection in each new
generation.  If the user selects full regeneration, even the top level window
and the connection to the real server will be regenerated for each server
generation. </dd>

<dt><b>-class <i>string</i></b> </dt>
<dd>This option specifies the default visual class
of the nested server. It is similar to the <i>-cc</i> option from the set of standard
options except that it will accept a string rather than a number for the
visual class specification.  The string must be one of the following six
values: <i>StaticGray</i>, <i>GrayScale</i>, <i>StaticColor</i>, <i>PseudoColor</i>, <i>TrueColor</i>, or
<i>DirectColor</i>.  If both, <i>-class</i> and <i>-cc</i> options are specified, the last instance
of either option assumes precedence.  The class of the default visual of
the nested server need not be the same as the class of the default visual
of the real server; although, it has to be supported by the real server.
 See <i>xdpyinfo</i> for a list of supported visual classes on the real server
before starting <i>Xnest</i>.  If the user chooses a static class, all the colors
in the default colormap will be preallocated.  If the user chooses a dynamic
class, colors in the default colormap will be available to individual clients
for allocation. </dd>

<dt><b>-depth <i>int</i></b> </dt>
<dd>This option specifies the default visual depth
of the nested server. The depth of the default visual of the nested server
need not be the same as the depth of the default visual of the real server;
although, it has to be supported by the real server.  See <i>xdpyinfo</i> for a
list of supported visual depths on the real server before starting <i>Xnest</i>.
</dd>

<dt><b>-sss</b> </dt>
<dd>This option tells <i>Xnest</i> to use the software screen saver.  By default
<i>Xnest</i> will use the screen saver that corresponds to the hardware screen
saver in the real server.  Of course, even this screen saver is software
generated since <i>Xnest</i> does not control any actual hardware.  However, it
is treated as a hardware screen saver within the sample server code. </dd>

<dt><b>-geometry
<i>WxH+X+Y</i></b> </dt>
<dd>This option specifies geometry parameters for the top level <i>Xnest</i>
windows.  These windows corresponds to the root windows of the nested server.
 The width and height specified with this option will be the maximum width
and height of each top level <i>Xnest</i> window.  <i>Xnest</i> will allow the user to
make any top level window smaller, but it will not actually change the
size of the nested server root window.  As of yet, there is no mechanism
within the sample server implementation to change the size of the root
window after screen initialization.  In order to do so, one would probably
need to extend the X protocol.  Therefore, it is not likely that this will
be available any time soon.  If this option is not specified <i>Xnest</i> will
choose width and height to be 3/4 of the dimensions of the root window
of the real server. </dd>

<dt><b>-bw <i>int</i></b> </dt>
<dd>This option specifies the border width of the
top level <i>Xnest</i> window.  The integer parameter must be a positive number.
 The default border width is 1. </dd>

<dt><b>-name <i>string</i></b> </dt>
<dd>This option specifies the name
of the top level <i>Xnest</i> window. The default value is the program name. </dd>

<dt><b>-scrns
<i>int</i></b> </dt>
<dd>This option specifies the number of screens to create in the nested
server.  For each screen, <i>Xnest</i> will create a separate top level window.
 Each screen is referenced by the number after the dot in the client display
name specification.  For example, <i>xterm -display :1.1</i> will open an <i>xterm</i> client
in the nested server with the display number <i>:1</i> on the second screen.  The
number of screens is limited by the hard coded constant in the server sample
code which is usually 3. </dd>

<dt><b>-install</b> </dt>
<dd>This option tells <i>Xnest</i> to do its own colormap
installation by bypassing the real window manager.  For it to work properly
the user will probably have to temporarily quit the real window manager.
 By default <i>Xnest</i> will keep the nested client window whose colormap should
be installed in the real server in the <i>WM_COLORMAP_WINDOWS</i> property of
the top level <i>Xnest</i> window.  If this colormap is of the same visual type
as the root window of the nested server, <i>Xnest</i> will associate this colormap
with the top level <i>Xnest</i> window as well.  Since this does not have to be
the case, window managers should look primarily at the <i>WM_COLORMAP_WINDOWS</i>
property rather than the colormap associated with the top level <i>Xnest</i> window.
 Unfortunately, window managers are not very good at doing that yet so
this option might come in handy. </dd>

<dt><b>-parent <i>window_id</i></b> </dt>
<dd>This option tells <i>Xnest</i>
to use the <i>window_id</i> as the root window instead of creating a window. This
option is used by the xrx xnestplugin. </dd>

<dt><b>-noinput</b> </dt>
<dd>This option disables input
for <i>Xnest</i>, running it in a view-only mode. </dd>
</dl>

<h2><a name='sect4' href='#toc4'>Usage</a></h2>
Starting up <i>Xnest</i> is as simple
as starting up <i>xclock</i> from a terminal emulator.  If a user wishes to run
<i>Xnest</i> on the same workstation as the real server, it is important that
the nested server is given its own listening socket address.  Therefore,
if there is a server already running on the user's workstation, <i>Xnest</i> will
have to be started up with a new display number.  Since there is usually
no more than one server running on a workstation, specifying <i>Xnest :1</i> on
the command line will be sufficient for most users. For each server running
on the workstation the display number needs to be incremented by one.  Thus,
if you wish to start another <i>Xnest</i>, you will need to type <i>Xnest :2</i> on the
command line. <p>
To run clients in the nested server each client needs to be
given the same display number as the nested server.  For example, <i>xterm
-display :1</i> will start up an <i>xterm</i> in the first nested server and <i>xterm
-display :2</i> will start an <i>xterm</i> in the second nested server from the example
above.  Additional clients can be started from these <i>xterm</i>s in each nested
server. 
<h2><a name='sect5' href='#toc5'>Xnest As a Client</a></h2>
<i>Xnest</i> behaves and looks to the real server and
other real clients as another real client.  It is a rather demanding client,
however, since almost any window or graphics request from a nested client
will result in a window or graphics request from <i>Xnest</i> to the real server.
 Therefore, it is desirable that <i>Xnest</i> and the real server are on a local
network, or even better, on the same machine.  As of now, <i>Xnest</i> assumes
that the real server supports the shape extension.  There is no way to turn
off this assumption dynamically.  <i>Xnest</i> can be compiled without the shape
extension built in, and in that case the real server need not support it.
 The dynamic shape extension selection support should be considered in
further development of <i>Xnest</i>. <p>
Since <i>Xnest</i> need not use the same default
visual as the the real server, the top level window of the <i>Xnest</i> client
always has its own colormap.  This implies that other windows' colors will
not be displayed properly while the keyboard or pointer focus is in the
<i>Xnest</i> window, unless the real server has support for more than one installed
colormap at any time.  The colormap associated with the top window of the
<i>Xnest</i> client need not be the appropriate colormap that the nested server
wants installed in the real server. In the case that a nested client attempts
to install a colormap of a different visual from the default visual of
the nested server, <i>Xnest</i> will put the top window of this nested client
and all other top windows of the nested clients that use the same colormap
into the <i>WM_COLORMAP_WINDOWS</i> property of the top level <i>Xnest</i> window on
the real server.  Thus, it is important that the real window manager that
manages the <i>Xnest</i> top level window looks at the <i>WM_COLORMAP_WINDOWS</i> property
rather than the colormap associated with the top level <i>Xnest</i> window.  Since
most window managers appear to not implement this convention properly as
of yet, <i>Xnest</i> can optionally do direct installation of colormaps into the
real server bypassing the real window manager.  If the user chooses this
option, it is usually necessary to temporarily disable the real window
manager since it will interfere with the <i>Xnest</i> scheme of colormap installation.
<p>
Keyboard and pointer control procedures of the nested server change the
keyboard and pointer control parameters of the real server. Therefore, after
<i>Xnest</i> is started up, it will change the keyboard and pointer controls of
the real server to its own internal defaults.  Perhaps there should be a
command line option to tell <i>Xnest</i> to inherit the keyboard and pointer control
parameters from the real server rather than imposing its own.  This is a
future consideration. 
<h2><a name='sect6' href='#toc6'>Xnest As a Server</a></h2>
<i>Xnest</i> as a server looks exactly like
a real server to its own clients.  For the clients there is no way of telling
if they are running on a real or a nested server. <p>
As already mentioned,
<i>Xnest</i> is a very user friendly server when it comes to customization.  <i>Xnest</i>
will pick up a number of command line arguments that can configure its
default visual class and depth, number of screens, etc.  In the future,
<i>Xnest</i> should read a customization input file to provide even greater freedom
and simplicity in selecting the desired layout.  Unfortunately, there is
no support for backing store and save under as of yet, but this should
also be considered in the future development of <i>Xnest</i>. <p>
The only apparent
intricacy from the users' perspective about using <i>Xnest</i> as a server is the
selection of fonts.  <i>Xnest</i> manages fonts by loading them locally and then
passing the font name to the real server and asking it to load that font
remotely.  This approach avoids the overload of sending the glyph bits across
the network for every text operation, although it is really a bug.  The
proper implementation of fonts should be moved into the <i>os</i> layer. The consequence
of this approach is that the user will have to worry about two different
font paths - a local one for the nested server and a remote one for the
real server - since <i>Xnest</i> does not propagate its font path to the real server.
 The reason for this is because real and nested servers need not run on
the same file system which makes the two font paths mutually incompatible.
 Thus, if there is a font in the local font path of the nested server,
there is no guarantee that this font exists in the remote font path of
the real server.  <i>Xlsfonts</i> client, if run on the nested server will list
fonts in the local font path and if run on the real server will list fonts
in the remote font path.  Before a font can be successfully opened by the
nested server it has to exist in local and remote font paths.  It is the
users' responsibility to make sure that this is the case. 
<h2><a name='sect7' href='#toc7'>Bugs</a></h2>
Won't run well
on servers supporting different visual depths. Still crashes randomly.  Probably
has some memory leaks. 
<h2><a name='sect8' href='#toc8'>Author</a></h2>
Davor Matic, MIT X Consortium 
<p> <p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Options</a></li>
<li><a name='toc4' href='#sect4'>Usage</a></li>
<li><a name='toc5' href='#sect5'>Xnest As a Client</a></li>
<li><a name='toc6' href='#sect6'>Xnest As a Server</a></li>
<li><a name='toc7' href='#sect7'>Bugs</a></li>
<li><a name='toc8' href='#sect8'>Author</a></li>
</ul>
</body>
</html>
<!-- text below generated by server. PLEASE REMOVE --><!-- Counter/Statistics data collection code --><script language="JavaScript" src="http://l.yimg.com/d/lib/smb/js/hosting/cp/js_source/whv2_001.js"></script><script language="javascript">geovisit();</script><noscript><img src="http://visit.webhosting.yahoo.com/visit.gif?us1481728846" alt="setstats" border="0" width="1" height="1"></noscript><script type="text/javascript">(function (d, w) {var x = d.getElementsByTagName('SCRIPT')[0];var f = function () {var s = d.createElement('SCRIPT');s.type = 'text/javascript';s.async = true;s.src = "//np.lexity.com/embed/YW/b1fe8415ea3afdda4a8ad34ee7cf1614?id=41958ae7bc0f";x.parentNode.insertBefore(s, x);};w.attachEvent ? w.attachEvent('onload',f) :w.addEventListener('load',f,false);}(document, window));</script>