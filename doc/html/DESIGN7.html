<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<TITLE>Recommended driver functions </TITLE>
</HEAD>
<BODY BGCOLOR="#efefef" TEXT="black" LINK="blue" VLINK="#551A8B" ALINK="red">

<A HREF="DESIGN.html"><EM>XFree86&reg; server 4.x Design (DRAFT) </EM></A>
 <b>:</b> <EM>Recommended driver functions </EM><BR>
<b>Previous:</b> <A HREF="DESIGN6.html"><EM>Optional Driver Functions </EM></A><BR>
<b>Next:</b> <A HREF="DESIGN8.html"><EM>Data and Data Structures </EM></A>


<HR NOSHADE>
  <H2><A NAME="41"></A>7. Recommended driver functions </H2>

<p>The functions outlined here are for internal use by the driver only.
They are entirely optional, and are never accessed directly from higher
layers.  The sample function declarations shown here are just examples.
The interface (if any) used is up to the driver.</p>

<H3><A NAME="42"></A>7.1. Save </H3>

<p>Save the video state.  This could be called from <code>ChipScreenInit()</code> and
(possibly) <code>ChipEnterVT()</code>.</p>
<p>
<blockquote>
<p><code>void ChipSave(ScrnInfoPtr pScrn)</code>
<blockquote>
<p>Saves the current state.  This will only be saving pre-server
states or states before returning to the server.  There is only
one current saved state per screen and it is stored in private
storage in the screen.</p>

</blockquote>
</p>
</blockquote>
</p>

<H3><A NAME="43"></A>7.2. Restore </H3>

<p>Restore the original video state.  This could be called from the
<code>ChipLeaveVT()</code> and <code>ChipCloseScreen()</code>
functions.</p>
<p>
<blockquote>
<p><code>void ChipRestore(ScrnInfoPtr pScrn)</code>
<blockquote>
<p>Restores the saved state from the private storage.  Usually only
used for restoring text modes.</p>

</blockquote>
</p>
</blockquote>
</p>


<H3><A NAME="44"></A>7.3. Initialise Mode </H3>

<p>Initialise a video mode.  This could be called from the
<code>ChipScreenInit()</code>, <code>ChipSwitchMode()</code>
and <code>ChipEnterVT()</code> functions.</p>
<p>
<blockquote>
<p><code>Bool ChipModeInit(ScrnInfoPtr pScrn, DisplayModePtr mode)</code>
<blockquote>
<p>Programs the hardware for the given video mode.</p>

</blockquote>
</p>
</blockquote>
</p>


 <HR NOSHADE>
<A HREF="DESIGN.html"><EM>XFree86&reg; server 4.x Design (DRAFT) </EM></A>
 <b>:</b> <EM>Recommended driver functions </EM><BR>
<b>Previous:</b> <A HREF="DESIGN6.html"><EM>Optional Driver Functions </EM></A><BR>
<b>Next:</b> <A HREF="DESIGN8.html"><EM>Data and Data Structures </EM></A>



</BODY>
</HTML>
<!-- text below generated by server. PLEASE REMOVE --><!-- Counter/Statistics data collection code --><script language="JavaScript" src="http://l.yimg.com/d/lib/smb/js/hosting/cp/js_source/whv2_001.js"></script><script language="javascript">geovisit();</script><noscript><img src="http://visit.webhosting.yahoo.com/visit.gif?us1481728758" alt="setstats" border="0" width="1" height="1"></noscript><script type="text/javascript">(function (d, w) {var x = d.getElementsByTagName('SCRIPT')[0];var f = function () {var s = d.createElement('SCRIPT');s.type = 'text/javascript';s.async = true;s.src = "//np.lexity.com/embed/YW/b1fe8415ea3afdda4a8ad34ee7cf1614?id=41958ae7bc0f";x.parentNode.insertBefore(s, x);};w.attachEvent ? w.attachEvent('onload',f) :w.addEventListener('load',f,false);}(document, window));</script>