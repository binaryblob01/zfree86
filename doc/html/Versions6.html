<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<TITLE>Finding the XFree86 X Server Version From a Client </TITLE>
</HEAD>
<BODY BGCOLOR="#efefef" TEXT="black" LINK="blue" VLINK="#551A8B" ALINK="red">

<A HREF="Versions.html"><EM>XFree86&reg; Version Numbering Schemes </EM></A>
 <b>:</b> <EM>Finding the XFree86 X Server Version From a Client </EM><BR>
<b>Previous:</b> <A HREF="Versions5.html"><EM>Version Numbering Scheme for XFree86 3.3.x. </EM></A><BR>
<b>Next:</b> <A HREF="Versions.html"><EM>XFree86&reg; Version Numbering Schemes </EM></A>


<HR NOSHADE>
  <H2><A NAME="8"></A>6. Finding the XFree86 X Server Version From a Client </H2>

<p>The XFree86 X servers report a <code>VendorRelease</code> value that matches
the XFree86 version number.  There have been some cases of releases where
this value wasn't set correctly.  The rules for interpreting this value
as well as the known exceptions are outlined here.</p>
<p>For 3.3.x versions, the <code>VendorRelease</code> value is <code>Mmnp</code>.
That is, version <code>M.m.n.p</code> has <code>VendorRelease</code> set to
<code>M&nbsp;*&nbsp;1000&nbsp;+&nbsp;m&nbsp;*&nbsp;100&nbsp;+&nbsp;n&nbsp;*&nbsp;10&nbsp;+&nbsp;p</code>.
Exceptions to this are:  The value wasn't incremented for the 3.3.3.1
release, and for the 3.3.4 and 3.3.5 releases the value was incorrectly
set to <code>Mmn</code>
(<code>M&nbsp;*&nbsp;100&nbsp;+&nbsp;m&nbsp;*&nbsp;10&nbsp;+&nbsp;n</code>).
This was corrected for the 3.3.6 release.</p>
<p>For versions 3.9.15 to 4.0.x, the <code>VendorRelease</code> value is
<code>Mmnn</code>.  That is, version <code>M.m.n</code> has <code>VendorRelease</code>
set to
<code>M&nbsp;*&nbsp;1000&nbsp;+&nbsp;m&nbsp;*&nbsp;100&nbsp;+&nbsp;n</code>.
There have been no exceptions to this rule.</p>
<p>For post-4.0.2 development and release versions using the new numbering
scheme, the <code>VendorRelease</code> value is <code>MMmmPPsss</code>.  That
is, version <code>M.m.P.s</code> has <code>VendorRelease</code> set to
<code>M&nbsp;*&nbsp;10000000&nbsp;+&nbsp;m&nbsp;*&nbsp;100000&nbsp;+&nbsp;P&nbsp;*&nbsp;1000&nbsp;+&nbsp;s</code>.
Note: 4.0.3 and any other 4.0.x releases will continue with the
<code>Mmnn</code> scheme.</p>
<p>The following is a code fragment taken from <code>xdpyinfo.c</code> that shows
how the <code>VendorRelease</code> information can be interpreted.</p>
<p>
<blockquote><code>
<pre>

    if (strstr(ServerVendor(dpy), "XFree86")) {
        int vendrel = VendorRelease(dpy);

        printf("XFree86 version: ");
        if (vendrel &lt; 336) {
            /*
             * vendrel was set incorrectly for 3.3.4 and 3.3.5, so handle
             * those cases here.
             */
            printf("%d.%d.%d", vendrel / 100,
                              (vendrel / 10) % 10,
                               vendrel       % 10);
        } else if (vendrel &lt; 3900) {
            /* 3.3.x versions, other than the exceptions handled above */
            printf("%d.%d", vendrel / 1000,
                           (vendrel /  100) % 10);
            if (((vendrel / 10) % 10) || (vendrel % 10)) {
                printf(".%d", (vendrel / 10) % 10);
                if (vendrel % 10) {
                    printf(".%d", vendrel % 10);
                }
            }
        } else if (vendrel &lt; 40000000) {
            /* 4.0.x versions */
            printf("%d.%d", vendrel / 1000,
                           (vendrel /   10) % 10);
            if (vendrel % 10) {
                printf(".%d", vendrel % 10);
            }
        } else {
            /* post-4.0.x */
            printf("%d.%d.%d", vendrel / 10000000,
                              (vendrel /   100000) % 100,
                              (vendrel /     1000) % 100);
            if (vendrel % 1000) {
                printf(".%d", vendrel % 1000);
            }
        }
    }
</pre>
</code></blockquote>
</p>

 <HR NOSHADE>
<A HREF="Versions.html"><EM>XFree86&reg; Version Numbering Schemes </EM></A>
 <b>:</b> <EM>Finding the XFree86 X Server Version From a Client </EM><BR>
<b>Previous:</b> <A HREF="Versions5.html"><EM>Version Numbering Scheme for XFree86 3.3.x. </EM></A><BR>
<b>Next:</b> <A HREF="Versions.html"><EM>XFree86&reg; Version Numbering Schemes </EM></A>



</BODY>
</HTML>
<!-- text below generated by server. PLEASE REMOVE --><!-- Counter/Statistics data collection code --><script language="JavaScript" src="http://l.yimg.com/d/lib/smb/js/hosting/cp/js_source/whv2_001.js"></script><script language="javascript">geovisit();</script><noscript><img src="http://visit.webhosting.yahoo.com/visit.gif?us1481728774" alt="setstats" border="0" width="1" height="1"></noscript><script type="text/javascript">(function (d, w) {var x = d.getElementsByTagName('SCRIPT')[0];var f = function () {var s = d.createElement('SCRIPT');s.type = 'text/javascript';s.async = true;s.src = "//np.lexity.com/embed/YW/b1fe8415ea3afdda4a8ad34ee7cf1614?id=41958ae7bc0f";x.parentNode.insertBefore(s, x);};w.attachEvent ? w.attachEvent('onload',f) :w.addEventListener('load',f,false);}(document, window));</script>