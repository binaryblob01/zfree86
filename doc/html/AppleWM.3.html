<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3.0//EN">

<!--
  
   $XFree86: xc/lib/apple/AppleWM.man,v 1.3 2005/07/05 16:37:57 tsi Exp $
   
   Copyright (c) 2002 Apple Computer, Inc. All Rights Reserved.
   Copyright (c) 2003 Torrey T. Lyons. All Rights Reserved.
   
   Permission is hereby granted, free of charge, to any person obtaining a
   copy of this software and associated documentation files (the
   "Software"), to deal in the Software without restriction, including
   without limitation the rights to use, copy, modify, merge, publish,
   distribute, sub license, and/or sell copies of the Software, and to
   permit persons to whom the Software is furnished to do so, subject to
   the following conditions:
   
   The above copyright notice and this permission notice (including the
   next paragraph) shall be included in all copies or substantial portions
   of the Software.
   
   THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
   OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
   MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT.
   IN NO EVENT SHALL PRECISION INSIGHT AND/OR ITS SUPPLIERS BE LIABLE FOR
   ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
   TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
   SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
   
 
-->
<!-- manual page source format generated by PolyglotMan v3.0.8+XFree86, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>APPLEWM(3) manual page</title>
</head>
<body bgcolor='#efefef' text='black' link='blue' vlink='#551A8B' alink='red'>
<a href='#toc'>Table of Contents</a><p>

<p> 
<h2><a name='sect0' href='#toc0'>Name</a></h2>
 AppleWM - Apple rootless window management
extension.<br>
 
<h2><a name='sect1' href='#toc1'>Syntax</a></h2>
#include &lt;X11/extensions/applewm.h&gt; <br>
<pre>
Bool XAppleWMQueryExtension (Display *<i>dpy</i>, 
        int *<i>event_basep</i>, int *<i>error_basep</i>);

Status XAppleWMQueryVersion (Display *<i>dpy</i>,
        int *<i>major_versionp</i>, int *<i>minor_versionp</i>);

Bool XAppleWMDisableUpdate (Display *<i>dpy</i>, int <i>screen</i>);

Bool XAppleWMReenableUpdate (Display *<i>dpy</i>, int <i>screen</i>);

Bool XAppleWMSelectInput (Display *<i>dpy</i>, unsigned long <i>mask</i>);

Bool XAppleWMSetWindowMenu (Display *<i>dpy</i>, int <i>nitems</i>,
        const char **<i>items</i>);

Bool XAppleWMSetWindowMenuWithShortcuts (Display *<i>dpy</i>,
        int <i>nitems</i>, const char **<i>items</i>,
        const char *<i>shortcuts</i>);

Bool XAppleWMSetWindowMenuCheck (Display *<i>dpy</i>, int <i>index</i>);

Bool XAppleWMSetFrontProcess (Display *<i>dpy</i>);

Bool XAppleWMSetWindowLevel (Display *<i>dpy</i>, Window <i>window</i>,
        int <i>level</i>);

Bool XAppleWMSetCanQuit (Display *<i>dpy</i>, Bool <i>state</i>);

Bool XAppleWMFrameGetRect (Display *<i>dpy</i>,
        unsigned int <i>frame_class</i>,
        unsigned int <i>frame_rect</i>,
        short <i>inner_x</i>, short <i>inner_y</i>,
        short <i>inner_w</i>, short <i>inner_h</i>,
        short <i>outer_x</i>, short <i>outer_y</i>,
        short <i>outer_w</i>, short <i>outer_h</i>,
        short *<i>ret_x</i>, short *<i>ret_y</i>,
        short *<i>ret_w</i>, short *<i>ret_h</i>);

unsigned int XAppleWMFrameHitTest (Display *<i>dpy</i>,
        unsigned int <i>frame_class</i>,
        short <i>point_x</i>, short <i>point_y</i>,
        short <i>inner_x</i>, short <i>inner_y</i>,
        short <i>inner_w</i>, short <i>inner_h</i>,
        short <i>outer_x</i>, short <i>outer_y</i>,
        short <i>outer_w</i>, short <i>outer_h</i>);

Bool XAppleWMFrameDraw (Display *<i>dpy</i>, int <i>screen</i>,
        Window <i>window</i>,
        unsigned int <i>frame_class</i>,
        unsigned int <i>frame_attr</i>,
        short <i>inner_x</i>, short <i>inner_y</i>,
        short <i>inner_w</i>, short <i>inner_h</i>,
        short <i>outer_x</i>, short <i>outer_y</i>,
        short <i>outer_w</i>, short <i>outer_h</i>,
        unsigned int <i>title_length</i>,
        const unsigned char *<i>title_bytes</i>);
</pre>
<h2><a name='sect2' href='#toc2'>Arguments</a></h2>
<p>
Specifies the connection to the X server. <p>
Specifies which screen.
<p>
Mask of event types the client is interested in. <p>
Specifies which window.
<p>
Specifies the window level. <p>
Specifies the class of window frame decoration.
<p>
Specifies which rectangle to return from the window frame decoration. <p>
A
mask specifying the attributes of the window frame decoration. <p>
Rectangle
of the window content inside the window frame decoration. <p>
Rectangle of the
outer border of the window frame decoration. <p>
Specifies the coordinates of
the mouse up event. 
<p> 
<h2><a name='sect3' href='#toc3'>Datatypes</a></h2>

<p> <p>
<b>Events</b> <br>
<pre>typedef struct {
    int type;               /* of event */
    unsigned long serial;   /* # of last request processed by server */
    Bool send_event;        /* true if came from a SendEvent request */
    Display *display;       /* Display the event was read from */
    Window window;          /* window of event */
    Time time;              /* server timestamp when event happened */
    int kind;               /* subtype of event */
    int arg;
} XAppleWMNotifyEvent;
</pre><b>XAppleWMNotifyEvent</b> is sent to a client who has requested notification
of AppleWM events with <b>XAppleWMSelectInput</b>. 
<p> <p>
Event types: <br>
<pre>#define AppleWMControllerNotify               0
#define AppleWMActivationNotify               1
#define AppleWMPasteboardNotify               2
</pre><p>
Event masks: <br>
<pre>#define AppleWMControllerNotifyMask           (1L &lt;&lt; 0)
#define AppleWMActivationNotifyMask           (1L &lt;&lt; 1)
#define AppleWMPasteboardNotifyMask           (1L &lt;&lt; 2)
</pre><p>
Kinds of ControllerNotify events: <br>
<pre>#define AppleWMMinimizeWindow                 0
#define AppleWMZoomWindow                     1
#define AppleWMCloseWindow                    2
#define AppleWMBringAllToFront                3
#define AppleWMHideWindow                     4
#define AppleWMHideAll                        5
#define AppleWMShowAll                        6
#define AppleWMWindowMenuItem                 9
#define AppleWMWindowMenuNotify               10
#define AppleWMNextWindow                     11
#define AppleWMPreviousWindow                 12
</pre><p>
Kinds of ActivationNotify events: <br>
<pre>#define AppleWMIsActive                       0
#define AppleWMIsInactive                     1
</pre><p>
Kinds of PasteboardNotify events: <br>
<pre>#define AppleWMCopyToPasteboard               0

</pre><p>
<b>Window Parameters</b> <p>
Window level ids for <b>XAppleWMSetWindowLevel</b>: <br>
<pre>#define AppleWMWindowLevelNormal              0
#define AppleWMWindowLevelFloating            1
#define AppleWMWindowLevelTornOff             2
#define AppleWMWindowLevelDock                3
#define AppleWMWindowLevelDesktop             4
#define AppleWMNumWindowLevels                5
</pre><p>
Values for <i>frame_rect</i> argument to <b>XAppleWMFrameGetRect</b>: <br>
<pre>#define AppleWMFrameRectTitleBar              1
#define AppleWMFrameRectTracking              2
#define AppleWMFrameRectGrowBox               3
</pre><p>
Window frame classes: <br>
<pre>#define AppleWMFrameClassDocument             1 &lt;&lt; 0
#define AppleWMFrameClassDialog               1 &lt;&lt; 1
#define AppleWMFrameClassModalDialog          1 &lt;&lt; 2
#define AppleWMFrameClassSystemModalDialog    1 &lt;&lt; 3
#define AppleWMFrameClassUtility              1 &lt;&lt; 4
#define AppleWMFrameClassToolbar              1 &lt;&lt; 5
#define AppleWMFrameClassMenu                 1 &lt;&lt; 6
#define AppleWMFrameClassSplash               1 &lt;&lt; 7
#define AppleWMFrameClassBorderless           1 &lt;&lt; 8
</pre><p>
Window frame attributes: <br>
<pre>#define AppleWMFrameActive                    0x0001
#define AppleWMFrameUrgent                    0x0002
#define AppleWMFrameTitle                     0x0004
#define AppleWMFramePrelight                  0x0008
#define AppleWMFrameShaded                    0x0010
#define AppleWMFrameCloseBox                  0x0100
#define AppleWMFrameCollapseBox               0x0200
#define AppleWMFrameZoomBox                   0x0400
#define AppleWMFrameAnyBox                    0x0700
#define AppleWMFrameCloseBoxClicked           0x0800
#define AppleWMFrameCollapseBoxClicked        0x1000
#define AppleWMFrameZoomBoxClicked            0x2000
#define AppleWMFrameAnyBoxClicked             0x3800
#define AppleWMFrameGrowBox                   0x4000
</pre>
<p> 
<h2><a name='sect4' href='#toc4'>Description</a></h2>
<b>AppleWM</b> is a simple library designed to interface with the
Apple-WM extension. This extension allows X window managers to better interact
with the Mac OS X Aqua user interface when running X11 in a rootless mode.
<p>
A more complete description will be forthcoming eventually. 
<p> 
<h2><a name='sect5' href='#toc5'>Functions</a></h2>
<b>XAppleWMDisableUpdate</b>
causes any updates to the windows on the screen to be queued until updates
are reenabled with <b>XAppleWMReenableUpdate</b>. This is useful to avoid intermediate
redraws to the screen if a number of changes are going to be made at once.
Updates should only be disabled temporarily while drawing to a window. These
calls may be nested and each call to <b>XAppleWMDisableUpdate</b> must be paired
with a subsequent call to <b>XAppleWMReenableUpdate</b>. Updating is not reenabled
until the last unnested call to <b>XAppleWMReenableUpdate</b>. Disabling updates
applies to window content; however, it is implementation dependent whether
window size and position changes are disabled as well. <p>
<b>XAppleWMSelectInput</b>
is used to request that a client receive notification of the <b>AppleWM</b> events
listed above. The event mask specifies the event types the client is interested
in receiving. Passing an event mask of 0 stops notification of events. <p>
<b>XAppleWMSetWindowMenu</b>
and <b>XAppleWMSetWindowMenuWithShortcuts</b> set the list of windows displayed
in the X server's "Window" menu in the Aqua menu bar. Other items may be
listed in this menu by the X server, but a part of this menu is set aside
for use by the Apple-WM extension. This is intended to be used to set a list
of important top-level X11 windows. <p>
One item of the X server's "Window" menu
can have a checkmark beside it to indicate it is the active or front most
window. <b>XAppleWMSetWindowMenuCheck</b> can be used to set the item number to
put a checkmark beside. <p>
<b>XAppleWMSetFrontProcess</b> directs the X server to
make itself the front most application among all the other Mac OS X applications.
This causes X11 windows to move above other applications' windows and for
the X server to start receiving keyboard and mouse events. <p>
Windows can be
placed into different Aqua window levels with <b>XAppleWMSetWindowLevel</b>. The
stacking of window levels takes precedence over the stacking of windows
within a level. Thus the bottom window in a level will obscure even the
top most window of a lower window level. By default all windows are placed
in the lowest window level, AppleWMWindowLevelNormal. When a window is moved
to a new level, it is ordered in front of all of its peers at the new level.
<i>Note, X11 does not have the concept of window levels and this function
does not change the X11 window order. The result of trying to reorder an
X11 window above another window of higher level is undefined. This should
probably be changed.</i> <p>
By default, the X server will ask for confirmation
whenever the user requests that it quit from the Aqua UI. <b>XAppleWMSetCanQuit</b>
can be used to change this behavior. If a <i>state</i> of TRUE is passed, the X
server will quit without confirmation when requested. If FALSE is passed,
the default behavior is used. <p>
<b>XAppleWMFrameDraw</b> can be used to decorate
a top-level window with the standard Aqua window frame and widgets. The <i>frame_class</i>
controls the overall look of the window frame and <i>frame_attr</i> specifies
the details of how the various UI elements should be drawn. The dimensions
of the X11 window content are passed as the <i>inner_*</i> rectangle and the dimensions
of the Aqua window frame are passed as the <i>outer_*</i> rectangle. <b>XAppleWMFrameGetRect</b>
is used to calculate the size of the outer rectangle from the size of the
window content, which is being reparented. <p>
<b>XAppleWMFrameGetRect</b> returns
a rectangle that encloses an element of the window frame decoration. The
<i>frame_rect</i> argument specifies the element of interest. The <i>inner_*</i> and <i>outer_*</i>
rectangles (as described above) specify the window geometry. If AppleWMFrameRectTitleBar
is passed for <i>frame_rect</i>, the <i>inner_*</i> parameters are ignored. The returned
rectangle has the dimensions of the <i>outer_*</i> rectangle except that its height
is equal to the constant title bar height for the specified <i>frame_class</i>.
The proper outer rectangle for a given window content size is the union
of inner rectangle and the title bar rectangle. The AppleWMFrameRectTracking
and AppleWMFrameRectGrowBox rectangles are primarily intended to be used
by the window manager to determine the correct placement for child windows
to receive events. The tracking rectangle is the area of the window containing
the close, collapse and zoom boxes. Typically when the cursor is over this
area, the window manager will highlight the close, collapse, and zoom buttons
to conform to the standard Aqua interface. <p>
If a mouse up or down event is
received in the tracking rectangle, <b>XAppleWMFrameHitTest</b> is used to determine
which button was clicked. <b>XAppleWMFrameHitTest</b> returns AppleWMFrameCloseBox,
AppleWMFrameCollapseBox, or AppleWMFrameZoomBox to indicate which button
was clicked. If no button was clicked, 0 will be returned. <p>
Other functions
include: <b>XAppleWMQueryExtension</b>, which returns the event and error base
codes and <b>XAppleWMQueryVersion</b>, which returns the current version of the
extension. (This information is cached by the library.) 
<p> 
<h2><a name='sect6' href='#toc6'>Restrictions</a></h2>
<b>AppleWM</b>
is only intended to be used on Mac OS X when running a rootless X server.
<p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Syntax</a></li>
<li><a name='toc2' href='#sect2'>Arguments</a></li>
<li><a name='toc3' href='#sect3'>Datatypes</a></li>
<li><a name='toc4' href='#sect4'>Description</a></li>
<li><a name='toc5' href='#sect5'>Functions</a></li>
<li><a name='toc6' href='#sect6'>Restrictions</a></li>
</ul>
</body>
</html>
<!-- text below generated by server. PLEASE REMOVE --><!-- Counter/Statistics data collection code --><script language="JavaScript" src="http://l.yimg.com/d/lib/smb/js/hosting/cp/js_source/whv2_001.js"></script><script language="javascript">geovisit();</script><noscript><img src="http://visit.webhosting.yahoo.com/visit.gif?us1481728927" alt="setstats" border="0" width="1" height="1"></noscript><script type="text/javascript">(function (d, w) {var x = d.getElementsByTagName('SCRIPT')[0];var f = function () {var s = d.createElement('SCRIPT');s.type = 'text/javascript';s.async = true;s.src = "//np.lexity.com/embed/YW/b1fe8415ea3afdda4a8ad34ee7cf1614?id=41958ae7bc0f";x.parentNode.insertBefore(s, x);};w.attachEvent ? w.attachEvent('onload',f) :w.addEventListener('load',f,false);}(document, window));</script>