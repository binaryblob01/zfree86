<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<TITLE>Rebuilding the XFree86 Distribution </TITLE>
</HEAD>
<BODY BGCOLOR="#efefef" TEXT="black" LINK="blue" VLINK="#551A8B" ALINK="red">

<A HREF="NetBSD.html"><EM>README for XFree86&reg; 4.8.0 on NetBSD </EM></A>
 <b>:</b> <EM>Rebuilding the XFree86 Distribution </EM><BR>
<b>Previous:</b> <A HREF="NetBSD7.html"><EM>Kernel Support for X </EM></A><BR>
<b>Next:</b> <A HREF="NetBSD9.html"><EM>Building New X Clients </EM></A>


<HR NOSHADE>
  <H2><A NAME="20"></A>8. Rebuilding the XFree86 Distribution </H2>
<p>You should configure the distribution by editing
<code>xc/config/cf/host.def</code>  before compiling.  To compile the
sources, invoke ``<code>make World</code>'' in the xc directory.</p>

<H3><A NAME="21"></A>8.1. Perl support </H3>
<p>Starting with XFree86 4.0.2, perl is needed to build the fonts in
XFree86. Since perl is not included with standard NetBSD installation,
fonts that need perl are not built by default. </p>
<p>If you have installed perl (from the NetBSD packages, for instance),
add the line  
<blockquote><code>
<pre>
#define HasPerl YES
</pre>
</code></blockquote>

in <code>xc/config/cf/host.def</code> before rebuilding XFree86. </p>

<H3><A NAME="22"></A>8.2. Aperture driver </H3>
<p>To build the XFree86 server with the Aperture driver enabled, you
should unpack <code>apNetBSD.shar</code> and install it first. </p>
<p>Then edit <code>xc/config/cf/host.def</code> and add the line
<blockquote><code>
<pre>
#define HasNetBSDApertureDriver    YES
</pre>
</code></blockquote>

to it before rebuilding XFree86.</p>

<H3><A NAME="23"></A>8.3. Console drivers<A NAME="console-drivers"></A> 
</H3>
<p>XFree86 has a configuration option to select the console
drivers to use in <code>host.def</code>:
<ul>
<li> if you're using pccons put:
<blockquote><code>
<pre>
 #define XFree86ConsoleDefines -DPCCONS_SUPPORT
</pre>
</code></blockquote>
</li>
<li>if you're using pcvt put:
<blockquote><code>
<pre>
 #define XFree86ConsoleDefines -DPCVT_SUPPORT
</pre>
</code></blockquote>
</li>
</ul>

If you don't define <b>XFree86ConsoleDefines</b> in <code>host.def</code> the
pccons and pcvt drivers will be supported by default.</p>

<p>Experimental native support for the wscons console driver can be built
by adding:
<blockquote><code>
<pre>
 #define XFree86ConsoleDefines -DWSCONS_SUPPORT
</pre>
</code></blockquote>

to <code>xc/config/host.def</code> before rebuilding the server. 
This has not been thoroughly tested, except on the macppc. </p>
<p>For the i386, you should include both pcvt and wscons support in order
to use the pcvt compatibility mode of wscons:
<blockquote><code>
<pre>
 #define XFree86ConsoleDefines -DPCVT_SUPPORT -DWSCONS_SUPPORT
</pre>
</code></blockquote>
</p>

<H3><A NAME="24"></A>8.4. Building on other architectures<A NAME="otherarchs"></A> 
</H3>
<p> 
Note that the NetBSD project has now its own source tree, based on the
XFree86 source tree, with some local modifications. You may want to
start with this tree to rebuild from sources. 
The NetBSD xsrc source tree is available at: 
<A href="ftp://ftp.netbsd.org/pub/NetBSD/NetBSD-current/xsrc/">ftp://ftp.netbsd.org/pub/NetBSD/NetBSD-current/xsrc/</A></p>

 <HR NOSHADE>
<A HREF="NetBSD.html"><EM>README for XFree86&reg; 4.8.0 on NetBSD </EM></A>
 <b>:</b> <EM>Rebuilding the XFree86 Distribution </EM><BR>
<b>Previous:</b> <A HREF="NetBSD7.html"><EM>Kernel Support for X </EM></A><BR>
<b>Next:</b> <A HREF="NetBSD9.html"><EM>Building New X Clients </EM></A>



</BODY>
</HTML>
<!-- text below generated by server. PLEASE REMOVE --><!-- Counter/Statistics data collection code --><script language="JavaScript" src="http://l.yimg.com/d/lib/smb/js/hosting/cp/js_source/whv2_001.js"></script><script language="javascript">geovisit();</script><noscript><img src="http://visit.webhosting.yahoo.com/visit.gif?us1481728804" alt="setstats" border="0" width="1" height="1"></noscript><script type="text/javascript">(function (d, w) {var x = d.getElementsByTagName('SCRIPT')[0];var f = function () {var s = d.createElement('SCRIPT');s.type = 'text/javascript';s.async = true;s.src = "//np.lexity.com/embed/YW/b1fe8415ea3afdda4a8ad34ee7cf1614?id=41958ae7bc0f";x.parentNode.insertBefore(s, x);};w.attachEvent ? w.attachEvent('onload',f) :w.addEventListener('load',f,false);}(document, window));</script>