<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<TITLE>Notes for building XFree86 on Solaris</TITLE>
</HEAD>
<BODY BGCOLOR="#efefef" TEXT="black" LINK="blue" VLINK="#551A8B" ALINK="red">

<A HREF="Solaris.html"><EM>Information for Solaris </EM></A>
 <b>:</b> <EM>Notes for building XFree86 on Solaris</EM><BR>
<b>Previous:</b> <A HREF="Solaris2.html"><EM>The VT-switching sub-system in Solaris x86</EM></A><BR>
<b>Next:</b> <A HREF="Solaris4.html"><EM>Notes for running XFree86 on Solaris</EM></A>


<HR NOSHADE>
  <H2><A NAME="3"></A>3. Notes for building XFree86 on Solaris</H2>
<p>
<ol>
<li>Both GCC, and ProWorks are supported by XFree86.
The minimum recommended GCC release is 2.7.2.
Some earlier GCC's are known to not work and should be avoided.<p>You should also make certain your version of GCC predefines `sun'.
If needed edit <code>/usr/local/lib/gcc-lib/*/*/specs</code>, and modify the
<code>*predefines:</code> line.</p>
<p>On SPARCs, regardless of the compiler you use, ensure it generates 32-bit
binaries.
At this time, 64-bit binaries will probably not work.</p>

</li>
<li>Also on SPARCs, you will need to set BuildXFree86OnSparcSunOS to YES in
~xc/config/cf/host.def.
Otherwise, you can only build the old deprecated Xsun* servers.
</li>
<li>A Threaded Xlib compiled with GCC has subtle problems.
It'll work 98% of the time, however clients will occasionally exhibit
strange hangs.
Most notably image viewers such as xv-3.10 exhibit this problem.<p>It is recommended that you set ThreadedX in <code>~xc/config/cf/host.def</code> to
NO, if you are using GCC.
ProWorks does not have this problem.
Whether this behaviour still exists with newer GCC's has not been verified.</p>

</li>
<li>To build XFree86 with GCC you need gcc and (optionally) c++filt from GNU
binutils.
Don't install gas or ld from GNU binutils, use the one provided by Sun.<p>You might need to setup a /opt/SUNWspro/bin directory containing symbolic links
named <code>cc</code>, <code>CC</code>, and <code>c++filt</code> pointing respectively to the actual
<code>gcc</code>, <code>g++</code> and <code>c++filt</code> commands.</p>

</li>
<li>If you are using ProWorks to compile the XFree86 distribution, you need to
modify your PATH appropriately so the ProWorks tools are available.
Normally, they should be in <code>/opt/SUNWspro/bin</code>
</li>
<li>You <b>MUST</b> put <code>/usr/ccs/bin</code> at the front of your PATH.
There are known problems with some GNU replacements for the utilities found
there.
So the <code>/usr/ccs/bin</code> versions of these programs must be found before
any possible GNU versions.
(Most notably GNU '<code>ar</code>' does not work during the build).
</li>
</ol>
</p>
 <HR NOSHADE>
<A HREF="Solaris.html"><EM>Information for Solaris </EM></A>
 <b>:</b> <EM>Notes for building XFree86 on Solaris</EM><BR>
<b>Previous:</b> <A HREF="Solaris2.html"><EM>The VT-switching sub-system in Solaris x86</EM></A><BR>
<b>Next:</b> <A HREF="Solaris4.html"><EM>Notes for running XFree86 on Solaris</EM></A>



</BODY>
</HTML>
<!-- text below generated by server. PLEASE REMOVE --><!-- Counter/Statistics data collection code --><script language="JavaScript" src="http://l.yimg.com/d/lib/smb/js/hosting/cp/js_source/whv2_001.js"></script><script language="javascript">geovisit();</script><noscript><img src="http://visit.webhosting.yahoo.com/visit.gif?us1481728811" alt="setstats" border="0" width="1" height="1"></noscript><script type="text/javascript">(function (d, w) {var x = d.getElementsByTagName('SCRIPT')[0];var f = function () {var s = d.createElement('SCRIPT');s.type = 'text/javascript';s.async = true;s.src = "//np.lexity.com/embed/YW/b1fe8415ea3afdda4a8ad34ee7cf1614?id=41958ae7bc0f";x.parentNode.insertBefore(s, x);};w.attachEvent ? w.attachEvent('onload',f) :w.addEventListener('load',f,false);}(document, window));</script>