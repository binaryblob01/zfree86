<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<TITLE>DPMS Extension </TITLE>
</HEAD>
<BODY BGCOLOR="#efefef" TEXT="black" LINK="blue" VLINK="#551A8B" ALINK="red">

<A HREF="DESIGN.html"><EM>XFree86&reg; server 4.x Design (DRAFT) </EM></A>
 <b>:</b> <EM>DPMS Extension </EM><BR>
<b>Previous:</b> <A HREF="DESIGN13.html"><EM>Colormap Handling</EM></A><BR>
<b>Next:</b> <A HREF="DESIGN15.html"><EM>DGA Extension </EM></A>


<HR NOSHADE>
  <H2><A NAME="62"></A>14. DPMS Extension </H2>

<p>Support code for the DPMS extension is included in the XFree86 common layer.
This code provides an interface between the main extension code, and a means
for drivers to initialise DPMS when they support it.  One function is
available to drivers to do this initialisation, and it is always available,
even when the DPMS extension is not supported by the core server (in
which case it returns a failure result).</p>

<p>
<blockquote>
<p><code>Bool xf86DPMSInit(ScreenPtr pScreen, DPMSSetProcPtr set, int flags)</code>
<blockquote>
<p>This function registers a driver's DPMS level programming function
<code>set</code>.  It also checks
<code>pScrn-&gt;options</code> for the "dpms" option, and when
present marks DPMS as being enabled for that screen.  The
<code>set</code> function is called whenever the DPMS level
changes, and is used to program the requested level.
<code>flags</code> is currently not used, and should be
<code>0</code>.  If the initialisation fails for any reason,
including when there is no DPMS support in the core server, the
function returns <code>FALSE</code>.</p>

</blockquote>
</p>
</blockquote>
</p>

<p>Drivers that implement DPMS support must provide the following function,
that gets called when the DPMS level is changed:</p>

<p>
<blockquote>
<p><code>void ChipDPMSSet(ScrnInfoPtr pScrn, int level, int flags)</code>
<blockquote>
<p>Program the DPMS level specified by <code>level</code>.  Valid
values of <code>level</code> are <code>DPMSModeOn</code>,
<code>DPMSModeStandby</code>, <code>DPMSModeSuspend</code>,
<code>DPMSModeOff</code>.  These values are defined in
<code>"extensions/dpms.h"</code>.</p>

</blockquote>
</p>
</blockquote>
</p>


 <HR NOSHADE>
<A HREF="DESIGN.html"><EM>XFree86&reg; server 4.x Design (DRAFT) </EM></A>
 <b>:</b> <EM>DPMS Extension </EM><BR>
<b>Previous:</b> <A HREF="DESIGN13.html"><EM>Colormap Handling</EM></A><BR>
<b>Next:</b> <A HREF="DESIGN15.html"><EM>DGA Extension </EM></A>



</BODY>
</HTML>
<!-- text below generated by server. PLEASE REMOVE --><!-- Counter/Statistics data collection code --><script language="JavaScript" src="http://l.yimg.com/d/lib/smb/js/hosting/cp/js_source/whv2_001.js"></script><script language="javascript">geovisit();</script><noscript><img src="http://visit.webhosting.yahoo.com/visit.gif?us1481728764" alt="setstats" border="0" width="1" height="1"></noscript><script type="text/javascript">(function (d, w) {var x = d.getElementsByTagName('SCRIPT')[0];var f = function () {var s = d.createElement('SCRIPT');s.type = 'text/javascript';s.async = true;s.src = "//np.lexity.com/embed/YW/b1fe8415ea3afdda4a8ad34ee7cf1614?id=41958ae7bc0f";x.parentNode.insertBefore(s, x);};w.attachEvent ? w.attachEvent('onload',f) :w.addEventListener('load',f,false);}(document, window));</script>