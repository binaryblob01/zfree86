%!PS-Adobe-3.0
%%Creator: groff version 1.19.2
%%CreationDate: Mon Dec 29 01:57:10 2008
%%DocumentNeededResources: font Times-Bold
%%+ font Times-Roman
%%+ font Times-Italic
%%DocumentSuppliedResources: procset grops 1.19 2
%%Pages: 11
%%PageOrder: Ascend
%%DocumentMedia: Default 612 792 0 () ()
%%Orientation: Portrait
%%EndComments
%%BeginDefaults
%%PageMedia: Default
%%EndDefaults
%%BeginProlog
%%BeginResource: procset grops 1.19 2
%!PS-Adobe-3.0 Resource-ProcSet
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/Fr{
setrgbcolor fill
}bind def
/setcmykcolor where{
pop
/Fk{
setcmykcolor fill
}bind def
}if
/Fg{
setgray fill
}bind def
/FL/fill load def
/LW/setlinewidth load def
/Cr/setrgbcolor load def
/setcmykcolor where{
pop
/Ck/setcmykcolor load def
}if
/Cg/setgray load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
/setpagedevice{}def
}bind def
/PEND{
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%EndProlog
%%BeginSetup
%%BeginFeature: *PageSize Default
<< /PageSize [ 612 792 ] /ImagingBBox null >> setpagedevice
%%EndFeature
%%IncludeResource: font Times-Bold
%%IncludeResource: font Times-Roman
%%IncludeResource: font Times-Italic
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/Euro/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Times-Italic@0 ENC0/Times-Italic RE/Times-Roman@0 ENC0/Times-Roman RE
/Times-Bold@0 ENC0/Times-Bold RE
%%EndSetup
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Bold@0 SF 2.5(XT)238.216 96 S(ransport Interface)-3.24 E/F1
10/Times-Roman@0 SF(Cop)69.336 120 Q
(yright \(c\) 1993, 1994 NCR Corporation - Dayton, Ohio, USA)-.1 E
(All Rights Reserv)69.336 144 Q(ed)-.15 E(Permission to use, cop)69.336
168 Q 1.3 -.65(y, m)-.1 H(odify).65 E 2.5(,a)-.65 G(nd distrib)-2.5 E
(ute this softw)-.2 E(are and its documentation for an)-.1 E 2.5(yp)-.15
G(urpose and)-2.5 E(without fee is hereby granted, pro)69.336 180 Q
(vided that the abo)-.15 E .3 -.15(ve c)-.15 H(op).15 E
(yright notice appear in all copies and that both)-.1 E(that cop)69.336
192 Q(yright notice and this permission notice appear in supporting doc\
umentation, and that the name)-.1 E(NCR not be used in adv)69.336 204 Q
(ertising or publicity pertaining to distrib)-.15 E(ution of the softw)
-.2 E(are without speci\214c,)-.1 E(written prior permission.)69.336 216
Q(NCR mak)5 E(es no representations about the suitability of this softw)
-.1 E(are for an)-.1 E(y)-.15 E 2.5(purpose. It)69.336 228 R(is pro)2.5
E(vided "as is" without e)-.15 E(xpress or implied w)-.15 E(arranty)-.1
E(.)-.65 E(NCR DISCLAIM ALL W)69.336 252 Q(ARRANTIES WITH REGARD T)-1.2
E 2.5(OT)-.18 G(HIS SOFTW)-2.5 E(ARE, INCLUDING ALL)-1.2 E(IMPLIED W)
69.336 264 Q(ARRANTIES OF MERCHANT)-1.2 E
(ABILITY AND FITNESS, IN NO EVENT SHALL NCR BE)-.93 E
(LIABLE FOR ANY SPECIAL, INDIRECT OR CONSEQ)69.336 276 Q(UENTIAL D)-.1 E
(AMA)-.4 E(GES OR ANY D)-.4 E(AMA)-.4 E(GES)-.4 E(WHA)69.336 288 Q
(TSOEVER RESUL)-1.11 E(TING FR)-.92 E(OM LOSS OF USE, D)-.4 E -1.21
-1.11(AT A)-.4 H(OR PR)3.61 E(OFITS, WHETHER IN AN A)-.4 E(CTION)-.4 E
(OF CONTRA)69.336 300 Q(CT)-.4 E 2.5(,N)-.74 G(EGLIGENCE OR O)-2.5 E
(THER T)-.4 E(OR)-.18 E(TIOUS A)-.6 E(CTION, ARISING OUT OF OR IN)-.4 E
(CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTW)69.336 312 Q(ARE.)
-1.2 E(Cop)69.336 336 Q(yright 1993, 1994, 2002 The Open Group)-.1 E
(Permission is hereby granted, free of char)69.336 360 Q(ge, to an)-.18
E 2.5(yp)-.15 G(erson obtaining a cop)-2.5 E 2.5(yo)-.1 G 2.5(ft)-2.5 G
(his softw)-2.5 E(are and associated)-.1 E
(documentation \214les \(the `)69.336 372 Q(`Softw)-.74 E(are')-.1 E
('\), to deal in the Softw)-.74 E
(are without restriction, including without)-.1 E
(limitation the rights to use, cop)69.336 384 Q 1.3 -.65(y, m)-.1 H
(odify).65 E 2.5(,m)-.65 G(er)-2.5 E(ge, publish, distrib)-.18 E
(ute, sublicense, and/or sell copies of the)-.2 E(Softw)69.336 396 Q
(are, and to permit persons to whom the Softw)-.1 E
(are is furnished to do so, subject to the follo)-.1 E(wing)-.25 E
(conditions:)69.336 408 Q(The abo)69.336 432 Q .3 -.15(ve c)-.15 H(op)
.15 E(yright notice and this permission notice shall be included in all\
 copies or substantial portions)-.1 E(of the Softw)69.336 444 Q(are.)-.1
E(THE SOFTW)69.336 468 Q(ARE IS PR)-1.2 E -.5(OV)-.4 G(IDED `).5 E -.8
(`A)-.74 G 2.5(SI).8 G(S')-2.5 E(', WITHOUT W)-.74 E
(ARRANTY OF ANY KIND, EXPRESS OR)-1.2 E(IMPLIED, INCLUDING B)69.336 480
Q(UT NO)-.1 E 2.5(TL)-.4 G(IMITED T)-2.5 E 2.5(OT)-.18 G(HE W)-2.5 E
(ARRANTIES OF MERCHANT)-1.2 E(ABILITY)-.93 E(,)-1.29 E(FITNESS FOR A P)
69.336 492 Q(AR)-.92 E(TICULAR PURPOSE AND NONINFRINGEMENT)-.6 E 5(.I)
-.74 G 2.5(NN)-5 G 2.5(OE)-2.5 G(VENT SHALL THE)-2.5 E(OPEN GR)69.336
504 Q(OUP BE LIABLE FOR ANY CLAIM, D)-.4 E(AMA)-.4 E(GES OR O)-.4 E
(THER LIABILITY)-.4 E 2.5(,W)-1.29 G(HETHER IN)-2.5 E(AN A)69.336 516 Q
(CTION OF CONTRA)-.4 E(CT)-.4 E 2.5(,T)-.74 G(OR)-2.68 E 2.5(TO)-.6 G
2.5(RO)-2.5 G(THER)-2.9 E(WISE, ARISING FR)-.55 E(OM, OUT OF OR IN)-.4 E
(CONNECTION WITH THE SOFTW)69.336 528 Q(ARE OR THE USE OR O)-1.2 E
(THER DEALINGS IN THE SOFTW)-.4 E(ARE.)-1.2 E(Except as contained in th\
is notice, the name of The Open Group shall not be used in adv)69.336
552 Q(ertising or)-.15 E
(otherwise to promote the sale, use or other dealings in this Softw)
69.336 564 Q(are without prior written authorization)-.1 E
(from The Open Group.)69.336 576 Q 2.5(XW)69.336 600 S(indo)-2.9 E 2.5
(wS)-.25 G(ystem is a trademark of The Open Group, Inc.)-2.5 E(Designed\
 by Stuart Anderson \(NCR\) with help from Ralph Mor \(X Consortium\))
69.336 624 Q/F2 10/Times-Italic@0 SF(Dr)250.876 648 Q(aft V)-.15 E(er)
-1.11 E(sion 0.6)-.1 E F1(NO)69.336 672 Q(TE: This documentation does n\
ot completely match the implementation in R6 \(as a result of some late)
-.4 E(changes made in the code\).)69.336 684 Q(Speci\214cally)5 E 2.5
(,s)-.65 G(upport w)-2.5 E(as added for font serv)-.1 E
(er cloning, and conditional)-.15 E(compliation w)69.336 696 Q
(as introduced for client vs. serv)-.1 E(er code.)-.15 E 0 Cg EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Italic@0 SF 2.5(1. Purposes)69.336 96 R(and Goals)2.5 E/F1
10/Times-Roman@0 SF .426(The X T)69.336 132 R .426(ransport Interf)-.35
F .427(ace is intended to combine all system and transport speci\214c c\
ode into a single place)-.1 F .794(in the source tree. This API should \
be used by all libraries, clients and serv)69.336 144 R .793
(ers of the X W)-.15 F(indo)-.4 E 3.293(wS)-.25 G(ystem.)-3.293 E .216
(Use of this API should allo)69.336 156 R 2.716(wt)-.25 G .217
(he addition of ne)-2.716 F 2.717(wt)-.25 G .217
(ypes of transports and support for ne)-2.717 F 2.717(wp)-.25 G .217
(latforms without)-2.717 F(making an)69.336 168 Q 2.5(yc)-.15 G
(hanges to the source e)-2.5 E(xcept in the X T)-.15 E(ransport Interf)
-.35 E(ace code.)-.1 E 3.527(This interf)69.336 186 R 3.527
(ace should solv)-.1 F 6.027(et)-.15 G 3.527
(he problem of multiple #ifdef TRANSPOR)-6.027 F 6.026(Ta)-.6 G 3.526
(nd #ifdef PLA)-6.026 F(TFORM)-1.11 E
(statements scattered throughout the source tree.)69.336 198 Q .816
(This interf)69.336 216 R .817(ace should pro)-.1 F .817(vide enough fu\
nctionality to support all types of protocols, including connection)-.15
F(oriented protocols such as X11 and FS, and connection-less oriented p\
rotocols such as XDMCP)69.336 228 Q(.)-1.11 E F0 2.5(2. Overvie)69.336
252 R 2.5(wo)-.15 G 2.5(ft)-2.5 G(he interface)-2.5 E F1 1.646
(The interf)69.336 288 R 1.646(ace pro)-.1 F 1.645(vides an API for use\
 by applications. The functions in this API perform w)-.15 F 1.645
(ork that is)-.1 F 2.228(common to all transports and systems, such as \
parsing an address into a host and port number)69.336 300 R 4.728(.T)
-.55 G(he)-4.728 E 1.865(functions in this API call transport speci\214\
c functions that are contained in a table whose contents are)69.336 312
R 1.474(de\214ned at compile time. This table contains an entry for eac\
h type of transport. Each entry is a record)69.336 324 R
(containing mostly pointers to function that implements the interf)
69.336 336 Q(ace for the gi)-.1 E -.15(ve)-.25 G 2.5(nt).15 G(ransport.)
-2.5 E 1.326(This API does not pro)69.336 354 R 1.325
(vide an abstraction for select\(\) or poll\(\).)-.15 F 1.325
(These function are themselv)6.325 F 1.325(es transport)-.15 F 1.155
(independent, so an additional interf)69.336 366 R 1.156
(ace is not needed for these functions.)-.1 F 1.156
(It is also unclear ho)6.156 F 3.656(ws)-.25 G 1.156(uch an)-3.656 F
(interf)69.336 378 Q(ace w)-.1 E(ould af)-.1 E(fect performance.)-.25 E
F0 2.5(3. De\214nition)69.336 402 R(of Addr)2.5 E(ess Speci\214cation F)
-.37 E(ormat)-1.05 E F1(Addresses are speci\214ed in the follo)69.336
438 Q(wing syntax,)-.25 E F0(pr)69.336 462 Q(otocol/host:port)-.45 E F1
(where)69.336 486 Q F0(pr)4.602 E(otocol)-.45 E F1 2.102
(speci\214es a protocol f)4.602 F 2.102
(amily or an alias for a protocol f)-.1 F(amily)-.1 E 4.602(.Ad)-.65 G
2.101(e\214nition of common)-4.602 F(protocol f)69.336 498 Q
(amilies is gi)-.1 E -.15(ve)-.25 G 2.5(ni).15 G 2.5(nal)-2.5 G
(ater section.)-2.5 E(The)69.336 516 Q F0(host)2.916 E F1 .416(part spe\
ci\214es the name of a host or other transport dependent entity that co\
uld be interpreted as a)2.916 F(Netw)69.336 528 Q
(ork Service Access Point \(NSAP\).)-.1 E(The)69.336 546 Q F0(port)3.205
E F1 .705(part speci\214es the name of a T)3.205 F .705
(ransport Service Access Point \(TSAP\). The format of the TSAP is)-.35
F .99(de\214ned by the underlying transport implementation, b)69.336 558
R .99(ut it is represented using a string format when it is)-.2 F
(part of an address.)69.336 570 Q F0 2.5(4. Internal)69.336 594 R
(Data Structur)2.5 E(es)-.37 E F1 1.652(There are tw)69.336 630 R 4.152
(om)-.1 G 1.651(ajor data structures associated with the transport inde\
pendent portion of this interf)-4.152 F(ace.)-.1 E
(Additional data structures may be used internally by each transport.)
69.336 642 Q F0 2.5(4.1 Xtr)69.336 660 R(ansport)-.15 E F1 .735
(Each transport supported has an entry in the transport table.)69.336
696 R .736(The transport table is an array of)5.735 F F0(Xtr)3.236 E
(ansport)-.15 E F1(records. Each record contains all the entry points f\
or a single transport. This record is de\214ned as:)69.336 708 Q 0 Cg EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(typedef struct _Xtransport {)69.336 96 Q
(char *T)79.336 120 Q(ransName;)-.35 E 2.5(int \215ags;)79.336 132 R
(XtransConnInfo \(*OpenCO)79.336 156 Q(TSClient\)\()-.4 E
(struct _Xtransport *,)105.336 168 Q(/* transport */)25.51 E(char *,)
105.336 180 Q(/* protocol */)80.79 E(char *,)105.336 192 Q(/* host */)
80.79 E(char *)105.336 204 Q(/* port */)83.29 E(\);)79.336 216 Q
(XtransConnInfo \(*OpenCO)79.336 240 Q(TSServ)-.4 E(er\)\()-.15 E
(struct _Xtransport *,)105.336 252 Q(/* transport */)25.51 E(char *,)
105.336 264 Q(/* protocol */)80.79 E(char *,)105.336 276 Q(/* host */)
80.79 E(char *)105.336 288 Q(/* port */)83.29 E(\);)79.336 300 Q
(XtransConnInfo \(*OpenCL)79.336 324 Q(TSClient\)\()-.92 E
(struct _Xtransport *,)105.336 336 Q(/* transport */)25.51 E(char *,)
105.336 348 Q(/* protocol */)80.79 E(char *,)105.336 360 Q(/* host */)
80.79 E(char *)105.336 372 Q(/* port */)83.29 E(\);)79.336 384 Q
(XtransConnInfo \(*OpenCL)79.336 408 Q(TSServ)-.92 E(er\)\()-.15 E
(struct _Xtransport *,)105.336 420 Q(/* transport */)25.51 E(char *,)
105.336 432 Q(/* protocol */)80.79 E(char *,)105.336 444 Q(/* host */)
80.79 E(char *)105.336 456 Q(/* port */)83.29 E(\);)79.336 468 Q 12.94
(int \(*SetOption\)\()79.336 492 R 38.01(XtransConnInfo, /*)105.336 504
R(connection */)2.5 E 92.44(int, /*)105.336 516 R(option */)2.5 E 94.94
(int /*)105.336 528 R(ar)2.5 E 2.5(g*)-.18 G(/)-2.5 E(\);)79.336 540 Q
12.94(int \(*CreateListener\)\()79.336 564 R 38.01(XtransConnInfo, /*)
105.336 576 R(connection */)2.5 E(char *,)105.336 588 Q(/* port */)80.79
E 94.94(int /*)105.336 600 R(\215ags */)2.5 E(\);)79.336 612 Q 12.94
(int \(*ResetListener\)\()79.336 636 R 40.51(XtransConnInfo /*)105.336
648 R(connection */)2.5 E(\);)79.336 660 Q(XtransConnInfo \(*Accept\)\()
79.336 684 Q 40.51(XtransConnInfo /*)105.336 696 R(connection */)2.5 E
(\);)79.336 708 Q 12.94(int \(*Connect\)\()79.336 732 R 0 Cg EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 38.01(XtransConnInfo, /*)105.336 96 R
(connection */)2.5 E(char *,)105.336 108 Q(/* host */)80.79 E(char *)
105.336 120 Q(/* port */)83.29 E(\);)79.336 132 Q 12.94
(int \(*BytesReadable\)\()79.336 156 R 38.01(XtransConnInfo, /*)105.336
168 R(connection */)2.5 E(BytesReadable_t *)105.336 180 Q(/* pend */)
32.73 E(\);)79.336 192 Q 12.94(int \(*Read\)\()79.336 216 R 38.01
(XtransConnInfo, /*)105.336 228 R(connection */)2.5 E(char *,)105.336
240 Q(/* b)80.79 E(uf */)-.2 E 94.94(int /*)105.336 252 R(size */)2.5 E
(\);)79.336 264 Q 12.94(int \(*Write\)\()79.336 288 R 38.01
(XtransConnInfo, /*)105.336 300 R(connection */)2.5 E(char *,)105.336
312 Q(/* b)80.79 E(uf */)-.2 E 94.94(int /*)105.336 324 R(size */)2.5 E
(\);)79.336 336 Q 12.94(int \(*Readv\)\()79.336 360 R 38.01
(XtransConnInfo, /*)105.336 372 R(connection */)2.5 E(struct io)105.336
384 Q -.15(ve)-.15 G 2.5(c*).15 G 51.92(,/)-2.5 G 2.5(*b)-51.92 G(uf */)
-2.7 E 94.94(int /*)105.336 396 R(size */)2.5 E(\);)79.336 408 Q 12.94
(int \(*Write)79.336 432 R(v\)\()-.25 E 38.01(XtransConnInfo, /*)105.336
444 R(connection */)2.5 E(struct io)105.336 456 Q -.15(ve)-.15 G 2.5(c*)
.15 G 51.92(,/)-2.5 G 2.5(*b)-51.92 G(uf */)-2.7 E 94.94(int /*)105.336
468 R(size */)2.5 E(\);)79.336 480 Q 12.94(int \(*Disconnect\)\()79.336
504 R 40.51(XtransConnInfo /*)105.336 516 R(connection */)2.5 E(\);)
79.336 528 Q 12.94(int \(*Close\)\()79.336 552 R 40.51
(XtransConnInfo /*)105.336 564 R(connection */)2.5 E(\);)79.336 576 Q
2.5(}X)69.336 600 S(transport;)-2.5 E(The)69.336 636 Q/F1 10
/Times-Italic@0 SF<8d61>2.5 E(gs)-.1 E F0
(\214eld can contain an OR of the follo)2.5 E(wing masks:)-.25 E F1
(TRANS_ALIAS)69.336 660 Q F0 2.5(:i)C(ndicates that this record is pro)
-2.5 E(viding an alias, and should not be used to create a listner)-.15
E(.)-.55 E F1(TRANS_LOCAL)69.336 684 Q F0 2.5(:i)C
(ndicates that this is a LOCALCONN transport.)-2.5 E F1 2.5(4.2 Xtr)
69.336 714 R(ansConnInfo)-.15 E 0 Cg EP
%%Page: 5 5
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 1.65(Each connection will ha)69.336 96 R 1.95
-.15(ve a)-.2 H 4.15(no).15 G(paque)-4.15 E/F1 10/Times-Italic@0 SF(Xtr)
4.15 E(ansConnInfo)-.15 E F0 1.65
(transport connection object allocated for it. This)4.15 F(record conta\
ins information speci\214c to the connection. The record is de\214ned a\
s:)69.336 108 Q(typedef struct _XtransConnInfo *XtransConnInfo;)69.336
126 Q(struct _XtransConnInfo {)69.336 150 Q(struct _Xtransport)79.336
162 Q(*transptr;)12.5 E 6.29(char *pri)79.336 174 R(v;)-.25 E 48.94
(int \215ags;)79.336 186 R 48.94(int fd;)79.336 198 R 48.94(int f)79.336
210 R(amily;)-.1 E 6.29(char *addr;)79.336 222 R 48.94(int addrlen;)
79.336 234 R 6.29(char *peeraddr;)79.336 246 R 48.94(int peeraddrlen;)
79.336 258 R(};)69.336 270 Q F1 2.5(5. Exposed)69.336 300 R -1.55 -.55
(Tr a)2.5 H(nsport Independent API).55 E F0 .12
(This API is included in each library and serv)69.336 336 R .121
(er that uses it. The API may be used by the library)-.15 F 2.621(,b)
-.65 G .121(ut it is not)-2.821 F .997
(added to the public API for that library)69.336 348 R 5.996(.T)-.65 G
.996(his interf)-5.996 F .996(ace is simply an implementation f)-.1 F
(acilitator)-.1 E 3.496(.T)-.55 G .996(his API)-3.496 F .252
(contains a lo)69.336 360 R 2.752(wl)-.25 G -2.15 -.25(ev e)-2.752 H
2.752(ls).25 G .252(et of core primiti)-2.752 F -.15(ve)-.25 G .252
(s, and a fe).15 F 2.753(wu)-.25 G .253(tility functions that are b)
-2.753 F .253(uilt on top of the primiti)-.2 F -.15(ve)-.25 G(s.).15 E
(The utility functions e)69.336 372 Q(xist to pro)-.15 E(vide a more f)
-.15 E(amiliar interf)-.1 E(ace that can be used to port e)-.1 E
(xisting code.)-.15 E 2.961(Am)69.336 390 S .461(acro is de\214ned in X\
trans.h for TRANS\(func\) that creates a unique function name depending\
 on where)-2.961 F 5.418(the code is compiled. F)69.336 402 R 5.418
(or e)-.15 F 5.418(xample, when b)-.15 F 5.418
(uilt for Xlib, TRANS\(OpenCO)-.2 F 5.419(TSClient\) becomes)-.4 F
(_X11T)69.336 414 Q(ransOpenCO)-.35 E(TSClient.)-.4 E .387(All f)69.336
432 R .387(ailures are considered f)-.1 F .386(atal, and the connection\
 should be closed and re-established if desired. In most)-.1 F
(cases, ho)69.336 444 Q(we)-.25 E -.15(ve)-.25 G .8 -.4(r, t).15 H(he v)
.4 E(alue of errno will be a)-.25 E -.25(va)-.2 G(ilable for deb).25 E
(ugging purposes.)-.2 E F1 2.5(5.1 Cor)69.336 462 R 2.5(eI)-.37 G
(nterface API)-2.5 E/F2 8/Times-Roman@0 SF<83>86.536 498 Q F0
(XtransConnInfo TRANS\(OpenCO)5 E(TSClient\)\(char *address\))-.4 E
2.196(This function creates a Connection-Oriented T)94.336 516 R 2.197
(ransport that is suitable for use by a client.)-.35 F(The)7.197 E
(parameter)94.336 528 Q F1(addr)3.488 E(ess)-.37 E F0 .988
(contains the full address of the serv)3.488 F .987
(er to which this endpoint will be connected.)-.15 F(This functions ret\
urns an opaque transport connection object on success, or NULL on f)
94.336 540 Q(ailure.)-.1 E F2<83>86.536 558 Q F0
(XtransConnInfo TRANS\(OpenCO)5 E(TSServ)-.4 E(er\)\(char *address\))
-.15 E 2.088(This function creates a Connection-Oriented T)94.336 576 R
2.089(ransport that is suitable for use by a serv)-.35 F(er)-.15 E 7.089
(.T)-.55 G(he)-7.089 E(parameter)94.336 588 Q F1(addr)2.542 E(ess)-.37 E
F0 .042(contains the full address to which this serv)2.542 F .042
(er will be bound.)-.15 F .042(This functions returns)5.042 F
(an opaque transport connection object on success, or NULL on f)94.336
600 Q(ailure.)-.1 E F2<83>86.536 618 Q F0(XtransConnInfo TRANS\(OpenCL)5
E(TSClient\)\(char *address\))-.92 E .328
(This function creates a Connection-Less T)94.336 636 R .329
(ransport that is suitable for use by a client.)-.35 F .329
(The parameter)5.329 F F1(addr)94.336 648 Q(ess)-.37 E F0 2.301
(contains the full address of the serv)4.801 F 2.3
(er to which this endpoint will be connected.)-.15 F(This)7.3 E(functio\
ns returns an opaque transport connection object on success, or NULL on\
 f)94.336 660 Q(ailure.)-.1 E F2<83>86.536 678 Q F0
(XtransConnInfo TRANS\(OpenCL)5 E(TSServ)-.92 E(er\)\(char *address\))
-.15 E .228(This function creates a Connection-Less T)94.336 696 R .228
(ransport that is suitable for use by a serv)-.35 F(er)-.15 E 5.228(.T)
-.55 G .228(he parameter)-5.228 F F1(addr)94.336 708 Q(ess)-.37 E F0
2.078(contains the full address to which this serv)4.578 F 2.078
(er will be bound.)-.15 F 2.078(This functions returns an)7.078 F
(opaque transport connection object on success, or NULL on f)94.336 720
Q(ailure.)-.1 E 0 Cg EP
%%Page: 6 6
%%BeginPageSetup
BP
%%EndPageSetup
/F0 8/Times-Roman@0 SF<83>86.536 96 Q/F1 10/Times-Roman@0 SF
(int TRANS\(SetOption\)\(XtransConnInfo connection, int option, int ar)5
E(g\))-.18 E .386
(This function sets transport options, similar to the w)94.336 114 R
.387(ay setsock)-.1 F .387(opt\(\) and ioctl\(\) w)-.1 F 2.887(ork. The)
-.1 F(parameter)2.887 E/F2 10/Times-Italic@0 SF(connection)94.336 126 Q
F1 .534(is an endpoint that w)3.035 F .534(as obtained from _XT)-.1 F
.534(ransOpen*\(\) functions.)-.35 F .534(The parameter)5.534 F F2
(option)3.034 E F1 .823
(contains the option that will be set. The actual v)94.336 138 R .823
(alues for)-.25 F F2(option)3.323 E F1 .823
(are de\214ned in a later section.)3.323 F(The)5.823 E(parameter)94.336
150 Q F2(ar)2.773 E(g)-.37 E F1 .272
(can be used to pass in an additional v)2.773 F .272
(alue that may be required by some options.)-.25 F(This)5.272 E
(function return 0 on success and -1 on f)94.336 162 Q(ailure.)-.1 E(No\
te: Based on current usage, the complimentary function TRANS\(GetOption\
\)\(\) is not necessary)94.336 180 Q(.)-.65 E F0<83>86.536 198 Q F1(int\
 TRANS\(CreateListener\)\(XtransConnInfo connection, char *port, int \
\215ags\))5 E .35(This function sets up the serv)94.336 216 R .351
(er endpoint for listening.)-.15 F .351(The parameter)5.351 F F2
(connection)2.851 E F1 .351(is an endpoint that)2.851 F -.1(wa)94.336
228 S 4.672(so).1 G 2.172(btained from TRANS\(OpenCO)-4.672 F(TSServ)-.4
E 2.171(er\)\(\) or TRANS\(OpenCL)-.15 F(TSServ)-.92 E 4.671
(er\)\(\). The)-.15 F(parameter)4.671 E F2(port)94.336 240 Q F1 .004(sp\
eci\214es the port to which this endpoint should be bound for listening\
.)2.503 F(If)5.004 E F2(port)2.504 E F1 .004(is NULL, then the)2.504 F
1.599(transport may attempt to allocate an)94.336 252 R 4.099(ya)-.15 G
-.25(va)-4.299 G 1.598
(ilable TSAP for this connection. If the transport cannot).25 F 4.409
(support this, then this function will return a f)94.336 264 R 6.909
(ailure. The)-.1 F F2<8d61>6.909 E(gs)-.1 E F1 4.41
(parameter can be set to)6.91 F(ADDR_IN_USE_ALLO)94.336 276 Q 1.984
(WED to allo)-.35 F 4.484(wt)-.25 G 1.984
(he call to the underlying binding function to f)-4.484 F 1.983
(ail with a)-.1 F 2.993(EADDRINUSE error without causing the TRANS\(Cre\
ateListener\) function itself to f)94.336 288 R 5.493(ail. This)-.1 F
(function return 0 on success and -1 on f)94.336 300 Q(ailure.)-.1 E F0
<83>86.536 318 Q F1
(int TRANS\(ResetListener\)\(XtransConnInfo connection\))5 E .1
(When a serv)94.336 336 R .1
(er is restarted, certain listen ports may need to be reset.)-.15 F -.15
(Fo)5.1 G 2.6(re).15 G .1(xample, unix domain needs)-2.75 F 1.01
(to check that the \214le used for communication has not been deleted.)
94.336 348 R 1.01(If it has, it must be recreated.)6.01 F 6.153
(The parameter)94.336 360 R F2(connection)8.653 E F1 6.152
(is an opened and bound endpoint that w)8.653 F 6.152(as obtained from)
-.1 F(TRANS\(OpenCO)94.336 372 Q(TSServ)-.4 E .199
(er\)\(\) and passed to TRANS\(CreateListener\)\(\).)-.15 F .199
(This function will return one)5.199 F 13.01(of the follo)94.336 384 R
13.01(wing v)-.25 F 13.01(alues: TRANS_RESET_NOOP)-.25 F 15.51(,T)-1.11
G 13.01(RANS_RESET_NEW_FD, or)-15.51 F(TRANS_RESET_F)94.336 396 Q
(AILURE.)-.74 E F0<83>86.536 414 Q F1
(XtransConnInfo TRANS\(Accept\)\(XtransConnInfo connection\))5 E .832
(Once a connection indication is recei)94.336 432 R -.15(ve)-.25 G .833
(d, this function can be called to accept the connection.).15 F(The)
5.833 E(parameter)94.336 444 Q F2(connection)10.853 E F1 8.353
(is an opened and bound endpoint that w)10.853 F 8.352(as obtained from)
-.1 F(TRANS\(OpenCO)94.336 456 Q(TSServ)-.4 E 1.31
(er\)\(\) and passed to TRANS\(CreateListener\)\(\).)-.15 F 1.31
(This function will return a)6.31 F(ne)94.336 468 Q 2.5(wo)-.25 G
(paque transport connection object upon success, NULL otherwise.)-2.5 E
F0<83>86.536 486 Q F1
(int TRANS\(Connect\)\(XtransConnInfo connection, char *address\))5 E
1.36(This function creates a connection to a serv)94.336 504 R(er)-.15 E
6.359(.T)-.55 G 1.359(he parameter)-6.359 F F2(connection)3.859 E F1
1.359(is an endpoint that w)3.859 F(as)-.1 E .079
(obtained from TRANS\(OpenCO)94.336 516 R 2.579(TSClient\)\(\). The)-.4
F(parameters)2.579 E F2(addr)2.579 E(ess)-.37 E F1 .079
(specify the TSAP to which this)2.579 F .544(endpoint should connect. I\
f the protocol is included in the address, it will be ignored.)94.336
528 R .543(This function)5.543 F(return 0 on success and -1 on f)94.336
540 Q(ailure.)-.1 E F0<83>86.536 558 Q F1(int TRANS\(BytesReadable\)\(X\
transConnInfo connection, BytesReadable_t *pend\);)5 E
(This function pro)94.336 576 Q
(vides the same functionality as the BytesReadable macro.)-.15 E F0<83>
86.536 594 Q F1(int TRANS\(Read\)\(XtransConnInfo connection, char *b)5
E(uf, int size\))-.2 E .865
(This function will return the number of bytes requested on a CO)94.336
612 R .865(TS connection, and will return the)-.4 F
(minimum of the number bytes requested or the size of the incoming pack)
94.336 624 Q(et on a CL)-.1 E(TS connection.)-.92 E F0<83>86.536 642 Q
F1(int TRANS\(Write\)\(XtransConnInfo connection, char *b)5 E
(uf, int size\))-.2 E .118
(This function will write the requested number of bytes on a CO)94.336
660 R .117(TS connection, and will send a pack)-.4 F(et)-.1 E
(of the requested size on a CL)94.336 672 Q(TS connection.)-.92 E F0<83>
86.536 690 Q F1
(int TRANS\(Readv\)\(XtransConnInfo connection, struct io)5 E -.15(ve)
-.15 G 2.5(c*).15 G -.2(bu)-2.5 G(f, int size\)).2 E
(Similar to TRANS\(Read\)\(\).)94.336 708 Q 0 Cg EP
%%Page: 7 7
%%BeginPageSetup
BP
%%EndPageSetup
/F0 8/Times-Roman@0 SF<83>86.536 96 Q/F1 10/Times-Roman@0 SF
(int TRANS\(Write)5 E(v\)\(XtransConnInfo connection, struct io)-.25 E
-.15(ve)-.15 G 2.5(c*).15 G -.2(bu)-2.5 G(f, int size\)).2 E
(Similar to TRANS\(Write\)\(\).)94.336 114 Q F0<83>86.536 132 Q F1
(int TRANS\(Disconnect\)\(XtransConnInfo connection\))5 E .619(This fun\
ction is used when an orderly disconnect is desired. This function brea\
ks the connection on)94.336 150 R
(the transport. It is similar to the sock)94.336 162 Q
(et function shutdo)-.1 E(wn\(\).)-.25 E F0<83>86.536 180 Q F1
(int TRANS\(Close\)\(XtransConnInfo connection\))5 E 1.385(This functio\
n closes the transport, unbinds it, and frees all resources that w)
94.336 198 R 1.384(as associated with the)-.1 F .036
(transport. If a TRANS\(Disconnect\) call w)94.336 210 R .037
(as not made on the connection, a disorderly disconnect may)-.1 F(occur)
94.336 222 Q(.)-.55 E F0<83>86.536 240 Q F1
(int TRANS\(IsLocal\)\(XtransConnInfo connection\))5 E(Returns TR)94.336
258 Q(UE if it is a local transport.)-.4 E F0<83>86.536 276 Q F1
(int TRANS\(GetMyAddr\)\(XtransConnInfo connection,)5 E(int *f)130.336
288 Q(amilyp, int *addrlenp, Xtransaddr **addrp\))-.1 E .128(This funct\
ion is similar to getsockname\(\). This function will allocate space fo\
r the address, so it must)94.336 306 R .744(be freed by the caller)
94.336 318 R 5.744(.N)-.55 G .745(ot all transports will ha)-5.744 F
1.045 -.15(ve a v)-.2 H .745
(alid address until a connection is established.)-.1 F(This function sh\
ould not be used until the connection is established with Connect\(\) o\
r Accept\(\).)94.336 330 Q F0<83>86.536 348 Q F1
(int TRANS\(GetPeerAddr\)\(XtransConnInfo connection,)5 E(int *f)130.336
360 Q(amilyp, int *addrlenp, Xtransaddr **addrp\))-.1 E .042
(This function is similar to getpeername\(\).)94.336 378 R .041
(This function will allocate space for the address, so it must)5.041 F
.744(be freed by the caller)94.336 390 R 5.744(.N)-.55 G .745
(ot all transports will ha)-5.744 F 1.045 -.15(ve a v)-.2 H .745
(alid address until a connection is established.)-.1 F(This function sh\
ould not be used until the connection is established with Connect\(\) o\
r Accept\(\).)94.336 402 Q F0<83>86.536 420 Q F1
(int TRANS\(GetConnectionNumber\)\(XtransConnInfo connection\))5 E
(Returns the \214le descriptor associated with this transport.)94.336
438 Q F0<83>86.536 456 Q F1(int TRANS\(Mak)5 E(eAllCO)-.1 E(TSServ)-.4 E
(erListeners\)\()-.15 E(char *port, int *partial_ret, int *count_ret, X\
transConnInfo **connections_ret\))130.336 468 Q .106
(This function should be used by most serv)94.336 486 R .106
(ers. It will try to establish a CO)-.15 F .106(TS serv)-.4 F .106
(er endpoint for each)-.15 F .066
(transport listed in the transport table.)94.336 498 R/F2 10
/Times-Italic@0 SF(partial_r)5.066 E(et)-.37 E F1 .066(will be set to T)
2.566 F .066(rue if only a partial netw)-.35 F .067(ork could be)-.1 F
(created.)94.336 510 Q F2(count_r)5 E(et)-.37 E F1
(is the number of transports returns, and)2.5 E F2(connections_r)2.5 E
(et)-.37 E F1(is the list of transports.)2.5 E F0<83>86.536 528 Q F1
(int TRANS\(Mak)5 E(eAllCL)-.1 E(TSServ)-.92 E(erListeners\)\()-.15 E(c\
har *port, int *partial_ret, int *count_ret, XtransConnInfo **connectio\
ns_ret\))130.336 540 Q .197(This function should be used by most serv)
94.336 558 R .197(ers. It will try to establish a CL)-.15 F .196
(TS serv)-.92 F .196(er endpoint for each)-.15 F .066
(transport listed in the transport table.)94.336 570 R F2(partial_r)
5.066 E(et)-.37 E F1 .066(will be set to T)2.566 F .066
(rue if only a partial netw)-.35 F .067(ork could be)-.1 F(created.)
94.336 582 Q F2(count_r)5 E(et)-.37 E F1
(is the number of transports returns, and)2.5 E F2(connections_r)2.5 E
(et)-.37 E F1(is the list of transports.)2.5 E F2 2.5(5.2 Utility)69.336
600 R(API)2.5 E F1 .23(This section describes a fe)69.336 636 R 2.73(wu)
-.25 G .23(seful functions that ha)-2.73 F .529 -.15(ve b)-.2 H .229
(een implemented on top of the Core Interf).15 F .229(ace API.)-.1 F
(These functions are being pro)69.336 648 Q(vided as a con)-.15 E -.15
(ve)-.4 G(nience.).15 E F0<83>86.536 666 Q F1(int TRANS\(Con)5 E -.15
(ve)-.4 G(rtAddress\)\(int *f).15 E
(amilyp, int *addrlenp, Xtransaddr *addrp\))-.1 E .816
(This function con)94.336 684 R -.15(ve)-.4 G .816(rts a sockaddr based\
 address to an X authorization based address \(ie AF_INET).15 F(,)-.74 E
(AF_UNIX to the X protocol de\214nition \(ie F)94.336 696 Q
(amilyInternet, F)-.15 E(amilyLocal\)\).)-.15 E 0 Cg EP
%%Page: 8 8
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Italic@0 SF 2.5(6. T)69.336 96 R -.15(ra)-.55 G
(nsport Option De\214nition).15 E/F1 10/Times-Roman@0 SF 1.265
(The follo)69.336 132 R 1.265(wing options are de\214ned for the TRANS\
\(SetOption\)\(\) function. If an OS or transport does not)-.25 F
(support an)69.336 144 Q 2.5(yo)-.15 G 2.5(ft)-2.5 G
(hese options, then it will silently ignore the option.)-2.5 E/F2 8
/Times-Roman@0 SF<83>86.536 162 Q F1(TRANS_NONBLOCKING)5 E 1.976
(This option controls the blocking mode of the connection. If the ar)
94.336 180 R 1.977(gument is set to 1, then the)-.18 F .333
(connection will be set to blocking. If the ar)94.336 192 R .333
(gument is set to 0, then the connection will be set to non-)-.18 F
(blocking.)94.336 204 Q F2<83>86.536 222 Q F1(TRANS_CLOSEONEXEC)5 E
1.899
(This option determines what will happen to the connection when an e)
94.336 240 R -.15(xe)-.15 G 4.399(ci).15 G 4.399(se)-4.399 G 1.899
(ncountered. If the)-4.399 F(ar)94.336 252 Q .137
(gument is set to 1, then the connection will be closed when an e)-.18 F
-.15(xe)-.15 G 2.636(co).15 G .136(ccurs. If the ar)-2.636 F .136
(gument is set to)-.18 F
(0, then the connection will not be closed when an e)94.336 264 Q -.15
(xe)-.15 G 2.5(co).15 G(ccurs.)-2.5 E F0 2.5(7. Hidden)69.336 288 R
-1.55 -.55(Tr a)2.5 H(nsport Dependent API).55 E F1 .084(The hidden tra\
nsport dependent functions are placed in the Xtransport record.)69.336
324 R .084(These function are similar to)5.084 F .043(the Exposed T)
69.336 336 R .043(ransport Independent API, b)-.35 F .043
(ut some of the parameters and return v)-.2 F .042
(alues are slightly dif)-.25 F(ferent.)-.25 E(Stuf)69.336 348 Q 2.5(fl)
-.25 G(ik)-2.5 E 2.5(et)-.1 G
(he #ifdef SUNSYSV should be handled inside these functions.)-2.5 E F2
<83>86.536 366 Q F1(XtransConnInfo *OpenCO)5 E(TSClient \()-.4 E(struct\
 _Xtransport *thistrans, char *protocol, char *host, char *port\))
130.336 378 Q 3.515(This function creates a Connection-Oriented T)94.336
396 R 3.515(ransport. The parameter)-.35 F F0(thistr)6.016 E(ans)-.15 E
F1 3.516(points to an)6.016 F 2.182
(Xtransport entry in the transport table. The parameters)94.336 408 R F0
(pr)4.681 E(otocol)-.45 E F1(,)A F0(host)4.681 E F1 4.681(,a)C(nd)-4.681
E F0(port)4.681 E F1 2.181(point to strings)4.681 F
(containing the corresponding parts of the address that w)94.336 420 Q
(as passed into TRANS\(OpenCO)-.1 E(TSClient\)\(\).)-.4 E 2.742(This fu\
nction must allocate and initialize the contents of the XtransConnInfo \
structure that is)94.336 438 R 2.561(returned by this function. This fu\
nction will open the transport, and bind it into the transport)94.336
450 R .168(namespace if applicable. The local address portion of the Xt\
ransConnInfo structure will also be \214lled)94.336 462 R
(in by this function.)94.336 474 Q F2<83>86.536 492 Q F1
(XtransConnInfo *OpenCO)5 E(TSServ)-.4 E(er \()-.15 E(struct _Xtranspor\
t *thistrans, char *protocol, char *host, char *port\))130.336 504 Q
3.516(This function creates a Connection-Oriented T)94.336 522 R 3.515
(ransport. The parameter)-.35 F F0(thistr)6.015 E(ans)-.15 E F1 3.515
(points to an)6.015 F 2.181
(Xtransport entry in the transport table. The parameters)94.336 534 R F0
(pr)4.681 E(otocol)-.45 E F1(,)A F0(host)4.682 E F1 4.682(,a)C(nd)-4.682
E F0(port)4.682 E F1 2.182(point to strings)4.682 F
(containing the corresponding parts of the address that w)94.336 546 Q
(as passed into TRANS\(OpenCO)-.1 E(TSClient\)\(\).)-.4 E 2.742(This fu\
nction must allocate and initialize the contents of the XtransConnInfo \
structure that is)94.336 564 R
(returned by this function. This function will open the transport.)
94.336 576 Q F2<83>86.536 594 Q F1(XtransConnInfo *OpenCL)5 E
(TSClient \()-.92 E(struct _Xtransport *thistrans, char *protocol, char\
 *host, char *port\))130.336 606 Q .838
(This function creates a Connection-Less T)94.336 624 R .838
(ransport. The parameter)-.35 F F0(thistr)3.338 E(ans)-.15 E F1 .839
(points to an Xtransport)3.339 F 1.092
(entry in the transport table. The parameters)94.336 636 R F0(pr)3.591 E
(otocol)-.45 E F1(,)A F0(host)3.591 E F1 3.591(,a)C(nd)-3.591 E F0(port)
3.591 E F1 1.091(point to strings containing the)3.591 F
(corresponding parts of the address that w)94.336 648 Q
(as passed into TRANS\(OpenCO)-.1 E(TSClient\)\(\).)-.4 E 2.742(This fu\
nction must allocate and initialize the contents of the XtransConnInfo \
structure that is)94.336 666 R 2.561(returned by this function. This fu\
nction will open the transport, and bind it into the transport)94.336
678 R .168(namespace if applicable. The local address portion of the Xt\
ransConnInfo structure will also be \214lled)94.336 690 R
(in by this function.)94.336 702 Q F2<83>86.536 720 Q F1
(XtransConnInfo *OpenCL)5 E(TSServ)-.92 E(er \()-.15 E(struct _Xtranspo\
rt *thistrans, char *protocol, char *host, char *port\))130.336 732 Q 0
Cg EP
%%Page: 9 9
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF .839(This function creates a Connection-Less T)
94.336 96 R .838(ransport. The parameter)-.35 F/F1 10/Times-Italic@0 SF
(thistr)3.338 E(ans)-.15 E F0 .838(points to an Xtransport)3.338 F 1.091
(entry in the transport table. The parameters)94.336 108 R F1(pr)3.591 E
(otocol)-.45 E F0(,)A F1(host)3.591 E F0 3.591(,a)C(nd)-3.591 E F1(port)
3.591 E F0 1.092(point to strings containing the)3.592 F
(corresponding parts of the address that w)94.336 120 Q
(as passed into TRANS\(OpenCO)-.1 E(TSClient\)\(\).)-.4 E 2.742(This fu\
nction must allocate and initialize the contents of the XtransConnInfo \
structure that is)94.336 138 R
(returned by this function. This function will open the transport.)
94.336 150 Q/F2 8/Times-Roman@0 SF<83>86.536 168 Q F0
(int SetOption \(struct _Xtransport *thistrans, int option, int ar)5 E
(g\))-.18 E 1.75(This function pro)94.336 186 R 1.75
(vides a transport dependent w)-.15 F 1.751
(ay of implementing the options de\214ned by the X)-.1 F -.35(Tr)94.336
198 S .175(ansport Interf).35 F .175(ace. In the current prototype, thi\
s function is not being used, because all of the option)-.1 F .997
(de\214ned so f)94.336 210 R(ar)-.1 E 3.497(,a)-.4 G .997
(re transport independent. This function will ha)-3.497 F 1.298 -.15
(ve t)-.2 H 3.498(ob).15 G 3.498(eu)-3.498 G .998
(sed if a radically dif)-3.498 F(ferent)-.25 E
(transport type is added, or a transport dependent option is de\214ned.)
94.336 222 Q F2<83>86.536 240 Q F0(int CreateListener \(struct _Xtransp\
ort *thistrans, char *port, int \215ags \))5 E 1.336(This function tak)
94.336 258 R 1.335(es a transport endpoint opened for a serv)-.1 F(er)
-.15 E 3.835(,a)-.4 G 1.335(nd sets it up to listen for incoming)-3.835
F 1.88(connection requests. The parameter)94.336 270 R F1(port)4.38 E F0
1.881(should contain the port portion of the address that w)4.381 F(as)
-.1 E(passed to the Open function.)94.336 282 Q 2.83(The parameter)
94.336 300 R F1<8d61>5.329 E(gs)-.1 E F0 2.829
(should be set to ADDR_IN_USE_ALLO)5.329 F 2.829
(WED if the underlying transport)-.35 F .569(endpoint may be already bo\
und and this should not be considered as an error)94.336 312 R 3.069(.O)
-.55 G(therwise)-3.069 E F1<8d61>3.069 E(gs)-.1 E F0(sould)3.069 E .394
(be set to 0.)94.336 324 R .394
(This is used by IPv6 code, where the same sock)5.394 F .394
(et can be bound to both an IPv6 address)-.1 F
(and then to a IPv4 address.)94.336 336 Q .61(This function will bind t\
he transport into the transport name space if applicable, and \214ll in\
 the local)94.336 354 R .47(address portion of the XtransConnInfo struc\
ture. The transport endpoint will then be set to listen for)94.336 366 R
(incoming connection requests.)94.336 378 Q F2<83>86.536 396 Q F0
(int ResetListener \(struct _Xtransport *thistrans\))5 E
(This function resets the transport for listening.)94.336 414 Q F2<83>
86.536 432 Q F0(XtransConnInfo Accept\(struct _Xtransport *thistrans\))5
E 1.192(This function creates a ne)94.336 450 R 3.692(wt)-.25 G 1.192
(ransport endpoint as a result of an incoming connection request. The)
-3.692 F(parameter)94.336 462 Q F1(thistr)3.172 E(ans)-.15 E F0 .672
(is the endpoint that w)3.172 F .672
(as opened for listening by the serv)-.1 F(er)-.15 E 3.172(.T)-.55 G
.672(he ne)-3.172 F 3.171(we)-.25 G .671(ndpoint is)-3.171 F 1.235
(opened and bound into the transport')94.336 474 R 3.735(sn)-.55 G 1.235
(amespace. A XtransConnInfo structure describing the ne)-3.735 F(w)-.25
E(endpoint is returned from this function)94.336 486 Q F2<83>86.536 504
Q F0
(int Connect\(struct _Xtransport *thistrans, char *host, char *port \))5
E .062(This function establishes a connection to a serv)94.336 522 R(er)
-.15 E 2.562(.T)-.55 G .062(he parameters)-2.562 F F1(host)2.562 E F0
(and)2.562 E F1(port)2.562 E F0 .062(describe the serv)2.562 F .061
(er to)-.15 F 1(which the connection should be established. The connect\
ion will be established so that Read\(\) and)94.336 534 R
(Write\(\) call can be made.)94.336 546 Q F2<83>86.536 564 Q F0(int Byt\
esReadable\(struct _Xtransport *thistrans, BytesReadable_t *pend \))5 E
2.404(This function replaces the BytesReadable\(\) macro. This allo)
94.336 582 R 2.404(ws each transport to ha)-.25 F 2.703 -.15(ve i)-.2 H
(t').15 E 4.903(so)-.55 G(wn)-5.153 E(mechanism for determining ho)
94.336 594 Q 2.5(wm)-.25 G(uch data is ready to be read.)-2.5 E F2<83>
86.536 612 Q F0(int Read\(struct _Xtransport *thistrans, char *b)5 E
(uf, int size \))-.2 E(This function reads)94.336 630 Q F1(size)2.5 E F0
(bytes into)2.5 E F1 -.2(bu)2.5 G(f).2 E F0(from the connection.)2.5 E
F2<83>86.536 648 Q F0(int Write\(struct _Xtransport *thistrans, char *b)
5 E(uf, int size \))-.2 E(This function writes)94.336 666 Q F1(size)2.5
E F0(bytes from)2.5 E F1 -.2(bu)2.5 G(f).2 E F0(to the connection.)2.5 E
F2<83>86.536 684 Q F0
(int Readv\(struct _Xtransport *thistrans, struct io)5 E -.15(ve)-.15 G
2.5(c*).15 G -.2(bu)-2.5 G(f, int size \)).2 E
(This function performs a readv\(\) on the connection.)94.336 702 Q F2
<83>86.536 720 Q F0(int Write)5 E
(v\(struct _Xtransport *thistrans, struct io)-.25 E -.15(ve)-.15 G 2.5
(c*).15 G -.2(bu)-2.5 G(f, int size \)).2 E
(This function performs a write)94.336 738 Q(v\(\) on the connection.)
-.25 E 0 Cg EP
%%Page: 10 10
%%BeginPageSetup
BP
%%EndPageSetup
/F0 8/Times-Roman@0 SF<83>86.536 96 Q/F1 10/Times-Roman@0 SF
(int Disconnect\(struct _Xtransport *thistrans\))5 E 2.246
(This function initiates an orderly shutdo)94.336 114 R 2.247
(wn of a connection. If a transport does not distinguish)-.25 F(between\
 orderly and disorderly disconnects, then a call to this function will \
ha)94.336 126 Q .3 -.15(ve n)-.2 H 2.5(oa).15 G -.25(ff)-2.5 G(ect.).25
E F0<83>86.536 144 Q F1(int Close\(struct _Xtransport *thistrans\))5 E
(This function will break the connection, and close the endpoint.)94.336
162 Q/F2 10/Times-Italic@0 SF 2.5(8. Con\214gur)69.336 186 R(ation)-.15
E F1 .232(The implementation of each transport can be platform speci\
\214c. It is e)69.336 222 R .232(xpected that e)-.15 F .232
(xisting connection types)-.15 F 1.05(such as TCPCONN, UNIXCONN, LOCALC\
ONN and STREAMSCONN will be replaced with \215ags for)69.336 234 R
(each possible transport type.)69.336 246 Q(Belo)69.336 264 Q 2.5(wa)
-.25 G(re the \215ags that can be set in)-2.5 E F2(ConnectionFla)2.5 E
(gs)-.1 E F1(in the v)2.5 E(endor)-.15 E
(.cf or site.def con\214g \214les.)-.55 E 40.28(TCPCONN Enables)123.311
288 R(the INET \(IPv4\) Domain Sock)2.5 E(et based transport)-.1 E 68.06
(IPv6 Extends)123.311 300 R(TCPCONN to enable IPv6 Sock)2.5 E
(et based transport)-.1 E 33.63(UNIXCONN Enables)123.311 312 R
(the UNIX Domain Sokcet based transport)2.5 E 12.5(STREAMSCONN Enables)
123.311 324 R(the TLI based transports)2.5 E 25.29(LOCALCONN Enables)
123.311 336 R(the SYSV Local connection transports)2.5 E 31.96
(DNETCONN Enables)123.311 348 R(the DECnet transports)2.5 E F2 2.5(9. T)
69.336 372 R -.15(ra)-.55 G(nsport Speci\214c De\214nitions).15 E .4 LW
466.816 406.5 103.856 406.5 DL/F3 10/Times-Bold@0 SF(Pr)108.856 416 Q
120.885(otocol Addr)-.18 F(ess Component)-.18 E 466.816 420.5 154.326
420.5 DL -.25(Fa)108.856 430 S 20.72(mily pr).25 F 77.72(otocol host)
-.18 F(port)114.255 E 466.816 434.5 103.856 434.5 DL 466.816 436.5
103.856 436.5 DL F1 69.74(Internet name)108.856 446 R
(of an internet addressable host)2.5 E(inet)161.826 446 Q(inet6)161.826
458 Q(tcp)161.826 470 Q(udp)161.826 482 Q 2.09(string containing the)
375.416 446 R 1.33(name of a service or)375.416 458 R 2.5(av)375.416 470
S(alid port number)-2.75 E(.)-.55 E .63(Example: "xserv)375.416 482 R
(er0",)-.15 E("7100")375.416 494 Q 466.816 498.5 103.856 498.5 DL 18.25
(DECnet decnet)108.856 508 R(name of a DECnet addressable host)24.27 E
2.09(string containing the)375.416 508 R .01(complete name of the)
375.416 520 R(object.)375.416 532 Q(Example: "X$X0")375.416 544 Q
466.816 548.5 103.856 548.5 DL(NET)108.856 558 Q -.1(wa)-.8 G 12.5
(re ipx).1 F(name of a NET)37.59 E -.1(wa)-.8 G(re addressable host).1 E
8.897(Not sure of the)375.416 558 R(speci\214cs yet.)375.416 570 Q
466.816 574.5 103.856 574.5 DL 34.36(OSI osi)108.856 584 R
(name of an OSI addressable host)38.7 E 8.897(Not sure of the)375.416
584 R(speci\214cs yet.)375.416 596 Q 466.816 600.5 103.856 600.5 DL
78.07(Local \(ignored\))108.856 610 R(local)161.826 610 Q(pts)161.826
622 Q(named)161.826 634 Q(sco)161.826 646 Q(isc)161.826 658 Q 1.255
(String containing the)375.416 610 R 16.955(port name, ie)375.416 622 R
("xserv)375.416 634 Q(er0",)-.15 E("fontserv)375.416 646 Q(er0".)-.15 E
466.816 662.5 103.856 662.5 DL 367.916 420.5 367.916 662.5 DL 204.696
420.5 204.696 662.5 DL 154.326 406.5 154.326 662.5 DL 466.816 406.5
466.816 662.5 DL 103.856 406.5 103.856 662.5 DL F2 2.5
(10. Implementation)69.336 682 R(Notes)2.5 E F1 3.243
(This section refers to the prototype implementation that is being de)
69.336 718 R -.15(ve)-.25 G 3.243(loped concurrently with this).15 F
1.167(document. This prototype has been able to \215ush out man)69.336
730 R 3.668(yd)-.15 G 1.168
(etails and problems as the speci\214cation w)-3.668 F(as)-.1 E
(being de)69.336 742 Q -.15(ve)-.25 G(loped.).15 E 0 Cg EP
%%Page: 11 11
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(All of the source code for this interf)69.336 96
Q(ace is located in xc/lib/xtrans.)-.1 E(All functions names in the sou\
rce are of the format TRANS\(func\)\(\). The TRANS\(\) macro is de\214n\
ed as)69.336 114 Q
(#if \(__STDC__ && !de\214ned\(UNIXCPP\)\) || de\214ned\(ANSICPP\))
69.336 144 Q(#de\214ne TRANS\(func\) _PR)69.336 156 Q -1.88 -.4(OT O)-.4
H(COL).4 E -.35(Tr)-.92 G(ans##func).35 E(#else)69.336 168 Q
(#de\214ne TRANS\(func\) _PR)69.336 180 Q -1.88 -.4(OT O)-.4 H(COL).4 E
-.35(Tr)-.92 G(ans/**/func).35 E(#endif)69.336 192 Q(PR)69.336 222 Q
-1.88 -.4(OT O)-.4 H .674(COL will be uniquely de\214ned in each direct\
ory where this code is compiled. PR).4 F -1.88 -.4(OT O)-.4 H .674
(COL will be).4 F .783(de\214ned to be the name of the protocol that is\
 implemented by the library or serv)69.336 234 R(er)-.15 E 3.283(,s)-.4
G .783(uch as X11, FS, and)-3.283 F(ICE.)69.336 246 Q .832
(All libraries and serv)69.336 264 R .831(ers that use the X T)-.15 F
.831(ransport Interf)-.35 F .831(ace should ha)-.1 F 1.131 -.15(ve a n)
-.2 H 1.331 -.25(ew \214).15 H .831(le called transport.c. This).25 F
1.668(\214le will include the transports based on the con\214guration \
\215ags)69.336 276 R/F1 10/Times-Italic@0 SF(ConnectionFla)4.169 E(gs)
-.1 E F0 4.169(.B)C(elo)-4.169 E 4.169(wi)-.25 G 4.169(sa)-4.169 G 4.169
(ne)-4.169 G(xample)-4.319 E(transport.c.)69.336 288 Q
(#include "Xtransint.h")69.336 306 Q(#ifdef DNETCONN)69.336 330 Q
(#include "Xtransdnet.c")69.336 342 Q(#endif)69.336 354 Q
(#ifdef LOCALCONN)69.336 366 Q(#include "Xtranslocal.c")69.336 378 Q
(#endif)69.336 390 Q(#ifdef TCPCONN)69.336 402 Q
(#include "Xtranssock.c")69.336 414 Q(#endif)69.336 426 Q
(#ifdef STREAMSCONN)69.336 438 Q(#include "Xtranstli.c")69.336 450 Q
(#endif)69.336 462 Q(#include "Xtrans.c")69.336 474 Q
(#include "Xtransutil.c")69.336 486 Q
(The source \214les for this interf)69.336 510 Q(ace are listed belo)-.1
E -.65(w.)-.25 G(Xtrans.h)135.811 528 Q
(Function prototypes and de\214nes for)203.851 528 Q(the T)203.851 540 Q
(ransport Independent API.)-.35 E(Xtransint.h)135.811 552 Q
(Used by the interf)203.851 552 Q(ace implementation only)-.1 E(.)-.65 E
(Contains the internal data structures.)203.851 564 Q(Xtranssock.c)
135.811 576 Q(Sock)203.851 576 Q(et implementation of the T)-.1 E
(ransport Dependent API.)-.35 E(Xtranstli.c)135.811 588 Q
(TLI implementation of the T)203.851 588 Q(ransport Dependent API.)-.35
E(Xtransdnet.c)135.811 600 Q(DECnet implementation of the T)203.851 600
Q(ransport Dependent API.)-.35 E(Xtranslocal.c)135.811 612 Q
(Implementation of the T)203.851 612 Q(ransport Dependent API for)-.35 E
(SYSV Local connections.)203.851 624 Q(Xtrans.c)135.811 636 Q(Exposed T)
203.851 636 Q(ransport Independent API Functions.)-.35 E(Xtransutil.c)
135.811 648 Q(Collection of Utility functions that use the)203.851 648 Q
2.5(XT)203.851 660 S(ransport Interf)-2.85 E(ace.)-.1 E .588(The \214le)
69.336 684 R F1(Xtr)3.088 E(ansint.h)-.15 E F0 .588
(contains much of the transport related code that pre)3.088 F .588
(viously in Xlibint.h and Xlibnet.h.)-.25 F .036(This will mak)69.336
696 R 2.537(et)-.1 G .037(he de\214nitions a)-2.537 F -.25(va)-.2 G .037
(ilable for all transport users. This should also obsolete the equi).25
F -.25(va)-.25 G .037(lent code).25 F(in other libraries.)69.336 708 Q 0
Cg EP
%%Trailer
end
%%EOF
