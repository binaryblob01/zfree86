%!PS-Adobe-3.0
%%Creator: groff version 1.19.2
%%CreationDate: Sun Dec 28 22:08:12 2008
%%DocumentNeededResources: font Helvetica-Bold
%%+ font Palatino-Roman
%%+ font Palatino-Bold
%%+ font Palatino-Italic
%%+ font Courier
%%+ font Times-Roman
%%+ font Helvetica-BoldOblique
%%DocumentSuppliedResources: procset grops 1.19 2
%%Pages: 10
%%PageOrder: Ascend
%%DocumentMedia: Default 612 792 0 () ()
%%Orientation: Portrait
%%EndComments
%%BeginDefaults
%%PageMedia: Default
%%EndDefaults
%%BeginProlog
%%BeginResource: procset grops 1.19 2
%!PS-Adobe-3.0 Resource-ProcSet
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/Fr{
setrgbcolor fill
}bind def
/setcmykcolor where{
pop
/Fk{
setcmykcolor fill
}bind def
}if
/Fg{
setgray fill
}bind def
/FL/fill load def
/LW/setlinewidth load def
/Cr/setrgbcolor load def
/setcmykcolor where{
pop
/Ck/setcmykcolor load def
}if
/Cg/setgray load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
/setpagedevice{}def
}bind def
/PEND{
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%EndProlog
%%BeginSetup
%%BeginFeature: *PageSize Default
<< /PageSize [ 612 792 ] /ImagingBBox null >> setpagedevice
%%EndFeature
%%IncludeResource: font Helvetica-Bold
%%IncludeResource: font Palatino-Roman
%%IncludeResource: font Palatino-Bold
%%IncludeResource: font Palatino-Italic
%%IncludeResource: font Courier
%%IncludeResource: font Times-Roman
%%IncludeResource: font Helvetica-BoldOblique
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/Euro/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Helvetica-BoldOblique@0 ENC0/Helvetica-BoldOblique RE/Times-Roman@0
ENC0/Times-Roman RE/Courier@0 ENC0/Courier RE/Palatino-Italic@0 ENC0
/Palatino-Italic RE/Palatino-Bold@0 ENC0/Palatino-Bold RE
/Palatino-Roman@0 ENC0/Palatino-Roman RE/Helvetica-Bold@0 ENC0
/Helvetica-Bold RE
%%EndSetup
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 18/Helvetica-Bold@0 SF(Scaled Windo)169.938 188 Q 5.004(wS)-.27 G
-4.644(uppor t)-5.004 F(in DMX)5.004 E/F1 10/Palatino-Roman@0 SF(Rickar)
224.5 206 Q 2.5(dE)-.18 G 2.5(.F)-2.5 G(aith and Kevin E. Martin)-2.5 E
(15 October 2003 \(cr)207.845 224 Q(eated 19 September 2003\))-.18 E/F2
10/Palatino-Bold@0 SF(Abstract)286.84 272 Q F1 1.236(This document inve\
stigates the possibility of adding scaled window support to the)117.5
290 R .78(DMX X server)115 302 R 3.28(,t)-.74 G(her)-3.28 E .78
(eby allowing a window or some selected part of the logical DMX)-.18 F
(ar)115 314 Q .124(ea to be displayed using a scaling factor.)-.18 F
.123(For example, this might allow the contents)5.124 F 1.3
(of a window to be magni\214ed for easier viewing.)115 326 R 1.3
(In particular)6.3 F 3.8(,s)-.74 G 1.3(caling for the VNC)-3.8 F
(client is explor)115 338 Q(ed.)-.18 E/F3 10/Palatino-Italic@0 SF
(Copyright 2003 by Red Hat, Inc., Raleigh, North Car)5 E(olina)-.18 E/F4
16/Helvetica-Bold@0 SF 4.448(1. Intr)90 392 R(oduction)-.32 E/F5 14
/Helvetica-Bold@0 SF 3.892(1.1 DMX)90 414 R F1 1.799
(The DMX X server \(Xdmx\) is a pr)90 432 R 1.798
(oxy server that is designed to allow X servers on multiple)-.18 F .913
(machines to be combined into a single multi-headed X server.)90 444 R
.913(Combined with Xinerama, these)5.913 F 1.302
(heads can appear as a single very high-r)90 456 R 1.301(esolution scr)
-.18 F 3.801(een. T)-.18 F 1.301(ypical applications include the cr)-.9
F(e-)-.18 E .523
(ation of a video wall with 16 1280x1024 displays arranged in a r)90 468
R .523(ectangle, for a total r)-.18 F .523(esolution of)-.18 F
(of 5120x4096.)90 480 Q F5 3.892(1.2 Pr)90 502 R(ob)-.28 E
(lem Statement)-.14 E F1 .694
(Applications displayed on a physically lar)90 520 R .693
(ge video wall that pr)-.18 F .693(ovides high pixel-r)-.18 F .693
(esolution may)-.18 F .533(be dif)90 532 R .533(\214cult to see, especi\
ally if the application is designed for use on a typical desktop comput\
er)-.18 F .759(with a r)90 544 R .758
(elatively small display located close to the human operator.)-.18 F
.758(The goal of this paper is to)5.758 F
(describe and discuss solutions to this pr)90 556 Q(oblem.)-.18 E .818
(The original driving pr)90 574 R .818(oblem for this work is to pr)-.18
F .819(ovide scaling for the)-.18 F/F6 10/Courier@0 SF(vncviewer)3.319 E
F1(application)3.319 E 1.196
(when displayed using DMX \(VNC scaling is curr)90 586 R 1.195
(ently available only with the W)-.18 F 1.195(indows client,)-.55 F .207
(and ther)90 598 R 2.707(ei)-.18 G 2.707(sn)-2.707 G 2.707(op)-2.707 G
.207(lan to extend that capability to other clients\).)-2.707 F .207
(While this speci\214c pr)5.207 F .207(oblem will be)-.18 F(addr)90 610
Q .456(essed in this paper)-.18 F 2.956(,t)-.74 G .456
(he general solution space will also be explor)-2.956 F .456
(ed, since this may lead to a)-.18 F(good solution not only for)90 622 Q
F6(vncviewer)2.5 E F1(but also for other applications.)2.5 E F5 3.892
(1.3 T)90 644 R(ask)-1.12 E F1(For r)90 662 Q(efer)-.18 E(ence, her)-.18
E 2.5(ei)-.18 G 2.5(st)-2.5 G
(he original description of the task this paper addr)-2.5 E(esses:)-.18
E/F7 8/Palatino-Roman@0 SF<83>105.152 680 Q F1
(Scaled window support \(for VNC\))5 E F7<83>130.152 698 Q F1
(Investigate possibility of implementing a "scaled window" extension:)5
E F7<83>155.152 716 Q F1(Add XCr)5 E(eateScaledW)-.18 E
(indow call that could be used in place of XCr)-.55 E(eateW)-.18 E
(indow)-.55 E/F8 10/Times-Roman@0 SF(Scaled W)90 768 Q(indo)-.4 E 2.5
(wS)-.25 G(upport in DMX)-2.5 E(1)293.77 E 0 Cg EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Scaled W)90 48 Q(indo)-.4 E 2.5(wS)-.25 G
(upport in DMX)-2.5 E(2)293.77 E/F1 8/Palatino-Roman@0 SF<83>155.152 96
Q/F2 10/Palatino-Roman@0 SF 1.334
(All primitives drawn to scaled window would be scaled by appr)5 F 1.334
(opriate \(inte-)-.18 F(gral?\) scaling factor)165 108 Q F1<83>130.152
126 Q F2(Alternate appr)5 E(oach: special case VNC support)-.18 E/F3 16
/Helvetica-Bold@0 SF 4.448(2. Pre)90 156 R(vious W)-.24 E(ork)-.96 E F2
(This section r)90 174 Q(eviews r)-.18 E(elevant pr)-.18 E(evious work.)
-.18 E/F4 14/Helvetica-Bold@0 SF 3.892(2.1 VNC)90 196 R/F5 12
/Helvetica-Bold@0 SF 3.336(2.1.1 Scaling)90 216 R(under VNC)3.336 E F2
1.08(When using the)90 234 R/F6 10/Courier@0 SF(vncviewer)3.58 E F2(pr)
3.58 E 1.08(ogram for W)-.18 F 1.079
(indows, it is possible to specify a scaling factor \(as)-.55 F 2.344
(numerator and denominator\).)90 246 R 2.344(When scaling is in ef)7.344
F 2.344(fect, the viewer softwar)-.18 F 4.845(eu)-.18 G 2.345(ses Str)
-4.845 F(etchBlt)-.18 E .921
(\(instead of BitBlt\) to display the pixels for the user.)90 258 R .92
(When this call is made, the viewer alr)5.921 F(eady)-.18 E(has r)90 270
Q(eceived all of the pixel information \(at full unscaled r)-.18 E
(esolution\).)-.18 E .683(The scaling in VNC is primitive.)90 288 R .683
(It does not conserve bandwidth, it does not tr)5.683 F .684
(eat textual infor)-.18 F(-)-.18 E .468(mation dif)90 300 R(fer)-.18 E
.468
(ently \(i.e., by using a suitably scaled font\), and it does not pr)
-.18 F .468(ovide any anti-aliasing)-.18 F(other than that pr)90 312 Q
(ovided by the underlying \(W)-.18 E(indows-only\) system library.)-.55
E F4 3.892(2.2 The)90 334 R 3.892(XV)3.892 G(ideo Extension)-3.892 E F2
.665(The X V)90 352 R .665
(ideo Extension is a widely-available extension to the X1)-.55 F 3.165
(1p)-.55 G -.18(ro)-3.165 G .665(tocol that pr).18 F .665
(ovides support)-.18 F .676(for str)90 364 R .676(eaming video.)-.18 F
.676(Integral to this support is the ability to arbitrarily scale the o\
utput.)5.676 F .675(In ver)5.675 F(-)-.18 E 1.48(sion 2.2 of the X V)90
376 R 1.48(ideo speci\214cation, support for scaled still images was pr)
-.55 F 1.48(ovided, using both)-.18 F(shar)90 388 Q .368
(ed memory and traditional transport.)-.18 F .367
(The API for this support uses calls that ar)5.368 F 2.867(eq)-.18 G
.367(uite simi-)-2.867 F 1.459(lar to XCr)90 400 R(eateW)-.18 E(indow)
-.55 E 3.959(,X)-.92 G 1.459(PutImage, and XShmPutImage.)-3.959 F(Curr)
6.459 E(ently)-.18 E 3.959(,m)-1.11 G 1.459(ost of the drivers imple-)
-3.959 F .81(mented in XFr)90 412 R .81
(ee86 only support data in various YUV formats.)-.18 F(However)5.81 E
3.31(,s)-.74 G .81(everal modern video)-3.31 F
(adaptors support RGB as well.)90 424 Q 1.191
(Note, though, that the tar)90 442 R 1.191
(get output for this scaling is an overlay plane -- so X V)-.18 F 1.192
(ideo pr)-.55 F(ovides)-.18 E(functionality that is fundamentally dif)90
454 Q(fer)-.18 E(ent fr)-.18 E(om that pr)-.18 E(ovided by the W)-.18 E
(indows Str)-.55 E(echBlt call.)-.18 E F3 4.448(3. P)90 484 R(ossib)-.64
E(le Solutions)-.16 E F2 .886(This section brie\215y discusses possible\
 solutions, including major advantages and disadvantages)90 502 R(fr)90
514 Q(om both the implementation and the end-user pr)-.18 E
(ogrammer standpoint.)-.18 E F4 3.892(3.1 VNC-like)90 536 R(Scaling)
3.892 E F5 3.336(3.1.1 Software)90 556 R(Scaling)3.336 E F2(The)90 574 Q
F6(vncviewer)2.85 E F2 .35(application could be modi\214ed to pr)2.85 F
.35(ovide softwar)-.18 F 2.85(es)-.18 G 2.85(caling. This)-2.85 F .35
(is not a general)2.85 F
(solution, but it does solve one of the goals of this work.)90 586 Q
4.625(Ap)90 604 S -.18(ro)-4.625 G 2.125
(totype of this solution was implemented and a patch against).18 F F6
(vnc-3.3.7-unixsrc)4.625 E F2(is)4.625 E .547(available in the)90 616 R
F6(dmx/external)3.047 E F2(dir)3.047 E 3.047(ectory. Because)-.18 F .547
(of limited time available for this work, all of)3.047 F
(the edge cases wer)90 628 Q 2.5(en)-.18 G(ot consider)-2.5 E
(ed and the solution works well mainly for integer scaling.)-.18 E(Curr)
90 646 Q(ently)-.18 E(,)-1.11 E F6(vncviewer)3.027 E F2 .526
(writes to the X display with XPutImage, XCopyAr)3.027 F .526
(ea, and XFillRectangle.)-.18 F .036
(All instances of these calls have to be awar)90 658 R 2.536(eo)-.18 G
2.537(fs)-2.536 G .037(caling and must r)-2.537 F .037(ound corr)-.18 F
2.537(ectly. In)-.18 F .037(the pr)2.537 F(ototype)-.18 E(solution, r)90
670 Q(ounding is incorr)-.18 E(ect and can cause artifacts.)-.18 E 3.712
(Ab)90 688 S 1.212
(etter solution would be to cache all updates to the desktop image in)
-3.712 F F6(vncviewer)3.712 E F2 1.211(and only)3.711 F .325
(send the damaged ar)90 700 R .325(ea to the X display with XPutImage.)
-.18 F .326(This would allow the damaged ar)5.326 F .326(ea to)-.18 F
.818(be computed so that r)90 712 R .818(ounding err)-.18 F .817
(ors do not cr)-.18 F .817(eate artifacts.)-.18 F .817
(This method is pr)5.817 F .817(obably similar to)-.18 F 1.351
(what is used in the W)90 724 R 1.352(indow client.)-.55 F 1.352
(\(The whole VNC suite is being r)6.352 F 1.352
(e-written in C++ and the)-.18 F
(forthcoming version 4 has not been evaluated.\))90 736 Q 0 Cg EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Scaled W)90 48 Q(indo)-.4 E 2.5(wS)-.25 G
(upport in DMX)-2.5 E(3)293.77 E/F1 12/Helvetica-Bold@0 SF 3.336
(3.1.2 Scaling)90 98 R(with the X Video Extension)3.336 E/F2 10
/Palatino-Roman@0 SF .11(The scaling in the W)90 116 R(indows)-.55 E/F3
10/Courier@0 SF(vncviewer)2.61 E F2 .11
(application makes use of a scaled blit that is supplied by)2.61 F 1.314
(the underlying system library.)90 128 R 1.314(Several video car)6.314 F
1.315(ds curr)-.18 F 1.315(ently pr)-.18 F 1.315
(ovide support for a scaled blit,)-.18 F .053
(and some X servers \(including XFr)90 140 R .053
(ee86\) expose this capability to applications via the XvPutImage)-.18 F
.887(interface of the X V)90 152 R .887(ideo Extension.)-.55 F .887
(The capability exposed by XvPutImage r)5.887 F .888
(esults in the scaled)-.18 F .668
(image being drawn to an overlay plane.)90 164 R .668(Most video car)
5.668 F .667(ds also pr)-.18 F .667(ovide support for a scaled blit)-.18
F
(into the normal output planes, but this is not exposed via XvPutImage.)
90 176 Q(The)90 194 Q F3(vncviewer)4.215 E F2(pr)4.215 E 1.716
(ogram could be modi\214ed to use the X V)-.18 F 1.716
(ideo Extension to pr)-.55 F 1.716(ovide scaling)-.18 F .114(under X1)90
206 R 2.613(1t)-.55 G .113(hat is similar to the scaling curr)-2.613 F
.113(ently pr)-.18 F .113(ovided under W)-.18 F 2.613
(indows. Unfortunately)-.55 F 2.613(,X)-1.11 G(dmx)-2.613 E .894
(does not curr)90 218 R .894(ently export the X V)-.18 F .894
(ideo Extension, so this would not pr)-.55 F .894
(ovide an immediate solu-)-.18 F(tion usable with DMX.)90 230 Q 2.842
(Av)90 248 S .342(ery early-stage pr)-2.842 F .342(oof-of-concept pr)
-.18 F .342(ototype was implemented and a pr)-.18 F .341
(eliminary patch against)-.18 F F3(vnc-3.3.7-unixsrc)90 260 Q F2 .926
(is available in the)3.426 F F3(dmx/external)3.426 E F2(dir)3.426 E
3.426(ectory. This)-.18 F(pr)3.426 E .926(ototype was imple-)-.18 F
(mented to better understand the pr)90 272 Q
(oblems that must be solved to make this solution viable:)-.18 E/F4 8
/Palatino-Roman@0 SF<83>105.152 290 Q F2 .088
(As noted under the softwar)5 F 2.588(es)-.18 G .088
(caling section above,)-2.588 F F3(vncviewer)2.588 E F2 .088
(writes to the X display with)2.588 F 1.477(several dif)115 302 R(fer)
-.18 E 1.477(ent calls.)-.18 F 1.478
(These calls write to the normal output planes and ar)6.477 F 3.978(ec)
-.18 G(ompatible)-3.978 E 1.081
(with XvPutImage, which writes to an overlay plane.)115 314 R 2.921 -.92
(To e)6.081 H 1.08(liminate artifacts caused by this).92 F(pr)115 326 Q
(oblem,)-.18 E F3(vncviewer)2.892 E F2 .393(should be modi\214ed so tha\
t a cached copy of the desktop is available,)2.892 F .656
(either as a client-side image or a server)115 338 R .656(-side of)-.18
F(f-scr)-.18 E .656(een pixmap, so that XvPutImage would)-.18 F
(be the only method for writing to the X display.)115 350 Q F4<83>
105.152 368 Q F2 1.225
(Although several modern graphics adaptors support har)115 386 R(dwar)
-.18 E 3.726(es)-.18 G 1.226(caling using an RGB for)-3.726 F(-)-.18 E
.101(mat \(e.g., A)115 398 R .101(TI Radeon, nV)-.74 F .101
(idia, etc.\), XFr)-.55 F .101
(ee86 drivers typically only implement YUV formats.)-.18 F .715
(YUV generally compr)115 410 R .715
(ess the pixel information in some way.)-.18 F .715
(For example, two commonly)5.715 F .39
(implemented formats, YUY2 and UYVY pr)115 422 R .39
(ovide intensity information for every RGB pixel,)-.18 F 1.226
(but only pr)115 434 R 1.226(ovide chr)-.18 F 1.227
(oma and luminance information for pairs of horizontal pixels.)-.18 F
(Since)6.227 E .767(VNC uses pixel-r)115 446 R .766
(esolution for communicating updates on the wir)-.18 F .766
(e, additional artifacts ar)-.18 F(e)-.18 E(intr)115 458 Q .206
(oduced \(because ther)-.18 F 2.706(em)-.18 G .206
(ay not be enough information fr)-2.706 F .206(om the wir)-.18 F 2.706
(et)-.18 G 2.706(ou)-2.706 G .206(pdate a pair of)-2.706 F(pixels\).)115
470 Q(Further)115 488 Q 2.647(,t)-.74 G .147(he well-known pr)-2.647 F
.147(oblem with YUV encoding is even mor)-.18 F 2.647(ee)-.18 G .147
(vident when the image)-2.647 F .329(is a desktop instead of a movie.)
115 500 R .33(For example, consider a 1-pixel-wide vertical window bor)
5.329 F(-)-.18 E 3.08(der. If)115 512 R .58(the bor)3.08 F .579(der cha\
nges in color but not intensity \(e.g., because a window manager uses)
-.18 F .834(color to indicate focus\), ther)115 524 R 3.334(em)-.18 G
.835(ay or may not be a change in the YUY2 image, depending)-3.334 F
.616(on the algorithm used for RGB to YUV conversion and on how the bor)
115 536 R .615(der pixel is or)-.18 F(der)-.18 E(ed)-.18 E
(in the pair of pixels used by the algorithm.)115 548 Q .275
(Many of these artifacts could be eliminated if)115 566 R F3(vncviewer)
2.775 E F2 .275(cached a complete RGB image of)2.775 F .012
(the desktop, and only did the conversion to YUV for pr)115 578 R .011
(operly aligned ar)-.18 F .011(eas of damage.)-.18 F(The)5.011 E -.18
(re)115 590 S 1.353(maining artifacts could be eliminated if an RGB for\
mat was used with X V).18 F 1.353(ideo \(which)-.55 F(may r)115 602 Q
(equir)-.18 E 2.5(et)-.18 G(he extension of existing XFr)-2.5 E
(ee86 drivers to support RGB\).)-.18 E F4<83>105.152 620 Q F2 .646
(Most modern video car)5 F .645
(ds support exactly one overlay plane that is suitable for use with X)
-.18 F -.55(Vi)115 632 S 3.061(deo. Ther).55 F(efor)-.18 E .562
(e, only one application can use X V)-.18 F .562
(ideo at any given time.)-.55 F .562(This is a sever)5.562 F(e)-.18 E
(limitation in a desktop envir)115 644 Q(onment.)-.18 E/F5 10
/Helvetica-BoldOblique@0 SF 2.78(3.1.2.1 Implementing)90 662 R
(the X Video Extension f)2.78 E(or DMX)-.2 E F2 .865(The user)90 680 R
.865(-level API for X V)-.18 F .865
(ideo is fairly simple, but the underlying support r)-.55 F(equir)-.18 E
.865(ed for the full)-.18 F .195(speci\214cation is lar)90 692 R 2.695
(ge. However)-.18 F 2.695(,s)-.74 G .195(ince the API pr)-2.695 F .196
(ovides a method to query supported capabilities,)-.18 F 3.456(au)90 704
S .956(sable subset of X V)-3.456 F .955
(ideo can be implemented that would support XvPutImage and little else.)
-.55 F(This would r)90 716 Q(equir)-.18 E 2.5(es)-.18 G
(upport for the following:)-2.5 E 0 Cg EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Scaled W)90 48 Q(indo)-.4 E 2.5(wS)-.25 G
(upport in DMX)-2.5 E(4)293.77 E/F1 8/Palatino-Roman@0 SF<83>105.152 96
Q/F2 10/Palatino-Roman@0 SF 2.5(XV)5 G
(ideo Extension API calls, including the following:)-3.05 E F1<83>
130.152 114 Q F2(XvQueryExtension)5 E F1<83>130.152 132 Q F2
(XvQueryAdaptors)5 E F1<83>130.152 150 Q F2(XvQueryPortAttributes)5 E F1
<83>130.152 168 Q F2(XvFr)5 E(eeAdaptorInfo)-.18 E F1<83>130.152 186 Q
F2(XvListImageFormats)5 E F1<83>130.152 204 Q F2(XvGrabPort)5 E F1<83>
130.152 222 Q F2(XvCr)5 E(eateImage)-.18 E F1<83>130.152 240 Q F2
(XvPutImage)5 E F1<83>130.152 258 Q F2(XvShmCr)5 E(eateImage)-.18 E F1
<83>130.152 276 Q F2(XvShmPutImage)5 E F1<83>105.152 294 Q F2
(Support for querying back-end X V)5 E(ideo Extension capabilities.)-.55
E F1<83>105.152 312 Q F2 1.756
(Support for sending the image to the back-ends.)5 F 1.756(Because X V)
6.756 F 1.756(ideo r)-.55 F(equir)-.18 E 1.757(es sending full)-.18 F
.425(images, ther)115 324 R 2.925(em)-.18 G .425(ay be a trade-of)-2.925
F 2.925(fb)-.18 G .424
(etween bandwidth limitations and additional complexity)-2.925 F
(to divide the image up such that is scales pr)115 336 Q(operly.)-.18 E
F1<83>105.152 354 Q F2 .95(Possible support for a softwar)5 F 3.45(ef)
-.18 G 3.451(all-back. For)-3.45 F .951
(example, if all of the back-ends do not sup-)3.451 F .032(port the X V)
115 366 R .032(ideo Extension, softwar)-.55 F 2.532(es)-.18 G .032
(caling can be implemented such that the image is sent)-2.532 F
(to the back-end with XPutImage.)115 378 Q
(This pathway would have poor performance.)5 E/F3 10
/Helvetica-BoldOblique@0 SF 2.78(3.1.2.2 Suppor)90 396 R(ting RGB f).2 E
(ormats f)-.2 E(or the X Video Extension)-.2 E F2 1.259(Assuming an XFr)
90 414 R 1.259(ee86 driver alr)-.18 F 1.259(eady supports the X V)-.18 F
1.26(ideo Extension, and assuming the tar)-.55 F(get)-.18 E(har)90 426 Q
(dwar)-.18 E 3.232(es)-.18 G .731
(upports an RGB format, then adding support for that format is r)-3.232
F .731(elatively simple and)-.18 F(straightforwar)90 438 Q(d.)-.18 E/F4
12/Helvetica-Bold@0 SF 3.336(3.1.3 Scaling)90 458 R(with an XPutIma)
3.336 E .12(ge)-.12 G(Scaled Extension)-.12 E F2 .466
(Instead of \(or in addition to\) implementing the X V)90 476 R .466
(ideo Extension in DMX, one obvious solution)-.55 F 1.196
(would be to implement a new extension that pr)90 488 R 1.196
(ovides access to har)-.18 F(dwar)-.18 E 1.196(e-assisted scaled blits,)
-.18 F 1.323(similar to the Str)90 500 R 1.323
(etchBlt call available under W)-.18 F 3.824(indows. This)-.55 F 1.324
(call would scale RGB images and)3.824 F
(would not use the overlay plane \(unlike the X V)90 512 Q
(ideo Extension\).)-.55 E 1.735(This appr)90 530 R 1.734
(oach has many of the same advantages and disadvantages as the XCopyAr)
-.18 F(eaScaled)-.18 E .938(Extension, discussed in the next section.)90
542 R .939(Discussion of XPutImageScaled is deferr)5.938 F .939
(ed in favor of)-.18 F(XCopyAr)90 554 Q(eaScaled for the following r)
-.18 E(easons:)-.18 E F1<83>105.152 572 Q F2 .028
(XPutImageScaled can be emulated with XCopyAr)5 F .027
(eaScaled by \214rst using XPutImage to copy)-.18 F 1.685
(the image to an of)115 584 R(f-scr)-.18 E 1.686
(een pixmap, and then calling XCopyAr)-.18 F 1.686
(eaScaled between that of)-.18 F(f-)-.18 E(scr)115 596 Q
(een pixmap and the tar)-.18 E(get drawable.)-.18 E F1<83>105.152 614 Q
F2 .507(Since XCopyAr)5 F .507(eaScaled would copy between two ar)-.18 F
.506(eas of on-scr)-.18 F .506(een or of)-.18 F(f-scr)-.18 E .506
(een memory)-.18 F(,)-1.11 E 1.795
(it has additional uses and can be viewed as ef)115 626 R 1.795
(\214ciently pr)-.18 F 1.795(oviding a superset of XPutIm-)-.18 F
(ageScaled functionality.)115 638 Q F4 3.336(3.1.4 Scaling)90 658 R
(with an XCop)3.336 E(yAreaScaled Extension)-.18 E F2 .57
(As noted in the pr)90 676 R .569(evious section, because XCopyAr)-.18 F
.569(eaScaled pr)-.18 F .569(ovides a superset of the function-)-.18 F
(ality pr)90 688 Q
(ovided by XPutImageScaled, we will consider this extension instead.)
-.18 E .85(First, XCopyAr)90 706 R .85(eaScaled would pr)-.18 F .851
(ovide for RGB scaling between pixmaps \(i.e., on-scr)-.18 F .851
(een or of)-.18 F(f-)-.18 E(scr)90 718 Q 1.755(een ar)-.18 F 1.755
(eas of memory that r)-.18 F 1.755(eside on the video car)-.18 F 4.255
(d\). Unlike)-.18 F 1.754(the X V)4.254 F 1.754(ideo Extension, which)
-.55 F 1.548(writes into an overlay plane, XCopyAr)90 730 R 1.549
(eaScaled would write into the non-overlay ar)-.18 F 1.549(eas of the)
-.18 F(scr)90 742 Q 2.5(een. Key)-.18 F(points to consider ar)2.5 E 2.5
(ea)-.18 G 2.5(sf)-2.5 G(ollows:)-2.5 E 0 Cg EP
%%Page: 5 5
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Scaled W)90 48 Q(indo)-.4 E 2.5(wS)-.25 G
(upport in DMX)-2.5 E(5)293.77 E/F1 8/Palatino-Roman@0 SF<83>105.152 96
Q/F2 10/Palatino-Roman@0 SF .731(Because dif)5 F(fer)-.18 E .731
(ent planes ar)-.18 F 3.231(ei)-.18 G .731
(nvolved, the two scaling operations ar)-3.231 F 3.231(eu)-.18 G .73
(sually implemented)-3.231 F .254(in har)115 108 R(dwar)-.18 E 2.754(ed)
-.18 G(if)-2.754 E(fer)-.18 E(ently)-.18 E 2.754(,s)-1.11 G 2.754(oa)
-2.754 G 2.754(nX)-2.754 G(CopyAr)-2.754 E .255
(eaScaled extension could be added in a manner that)-.18 F
(would neither con\215ict with nor interact with the X V)115 120 Q
(ideo extension in any way.)-.55 E F1<83>105.152 138 Q F2 2.039
(The XCopyAr)5 F 2.039(eaScaled extension pr)-.18 F 2.039
(ovides new functionality that the X V)-.18 F 2.039(ideo Extension)-.55
F 1.046(does not pr)115 150 R 3.546(ovide. Based)-.18 F 1.046
(on anecdotal feedback, we believe that many people outside the)3.546 F
(DMX and VNC communities would be excited about this extension.)115 162
Q F1<83>105.152 180 Q F2 .848(The main drawback to this extension is th\
at it is new and needs to be implemented at the)5 F .517
(driver level in XFr)115 192 R .517(ee86 for each video car)-.18 F 3.018
(dt)-.18 G 3.018(ob)-3.018 G 3.018(es)-3.018 G 3.018(upported. At)-3.018
F .518(the pr)3.018 F .518(esent time, it is mor)-.18 F(e)-.18 E 2.253
(likely that the X V)115 204 R 2.253
(ideo Extension will be implemented for a particular piece har)-.55 F
(dwar)-.18 E(e)-.18 E .337(because the X V)115 216 R .337
(ideo extension has multimedia uses.)-.55 F(However)5.337 E 2.837(,o)
-.74 G .337(ver time, we would expect)-2.837 F .225(the XCopyAr)115 228
R .224(eaScaled extension to be implemented along with the X V)-.18 F
.224(ideo extension, espe-)-.55 F(cially if it becomes popular.)115 240
Q F1<83>105.152 258 Q F2 1.688
(Another drawback is that not all modern car)5 F 1.688(ds pr)-.18 F
1.688(ovide support for a simple scaled blit)-.18 F 3.178
(operation. However)115 270 R 3.178(,t)-.74 G .678(hese car)-3.178 F
.678(ds usually do pr)-.18 F .678
(ovide a 3D pipeline which could be used to)-.18 F(pr)115 282 Q 1.433
(ovide this functionality in a manner that is transpar)-.18 F 1.434
(ent to the client application that is)-.18 F 2.87(using the XCopyAr)115
294 R 2.87(eaScaled extension.)-.18 F(However)7.87 E 5.37(,t)-.74 G 2.87
(his implementation pathway would)-5.37 F
(make this extension somewhat mor)115 306 Q 2.5(ed)-.18 G(if)-2.5 E
(\214cult to implement on certain car)-.18 E(ds.)-.18 E/F3 12
/Helvetica-Bold@0 SF 3.336(3.1.5 Scaling)90 326 R(with OpenGL)3.336 E F2
.184(Another general solution to the scaling pr)90 344 R .184
(oblem is to use the textur)-.18 F 2.684(es)-.18 G .184
(caling found in all 3D har)-2.684 F(d-)-.18 E(war)90 356 Q 2.801
(e. This)-.18 F .301(ability is alr)2.801 F .301(eady exposed thr)-.18 F
.3(ough OpenGL and can be exploited by clients without X)-.18 F 3.05(se\
rver modi\214cation \(i.e., other than the ability to support OpenGL\).)
90 368 R 3.05(An application using)8.05 F .768
(OpenGL would transmit the non-scaled image to the X server as a textur)
90 380 R .768(e, and would then dis-)-.18 F .502
(play a single non-transformed r)90 392 R .502(ect using that textur)
-.18 F 3.002(e. This)-.18 F .502(also works ar)3.002 F .503
(ound the single overlay)-.18 F(pr)90 404 Q .196(oblem with the X V)-.18
F .196(ideo Extension as well as the need to implement additional scale\
d primitive)-.55 F(extensions.)90 416 Q 1.267
(The downside is that most OpenGL implementations r)90 434 R(equir)-.18
E 3.767(ep)-.18 G 1.267(ower of 2 textur)-3.767 F 3.767(es)-.18 G 1.268
(izes and this)-3.767 F .106(can be very wasteful of memory if, for exa\
mple, the application needs to scale a 1025x1025 image,)90 446 R .862
(which would r)90 458 R(equir)-.18 E 3.363(ea2)-.18 G .863
(048x2048 textur)-3.363 F 3.363(ea)-.18 G -.18(re)-3.363 G 3.363(a\().18
G .863(even a 640x480 image would r)-3.363 F(equir)-.18 E 3.363(ea1)-.18
G(024x512)-3.363 E(textur)90 470 Q 3.269(e\). Another)-.18 F .768(downs\
ide is that some OpenGL implementations have a limited about of tex-)
3.269 F(tur)90 482 Q 3.394(em)-.18 G .894
(emory and cannot handle textur)-3.394 F .894(es that ar)-.18 F 3.394
(ev)-.18 G .894(ery lar)-3.394 F 3.394(ge. For)-.18 F .894
(example, they might limit the)3.394 F(textur)90 494 Q 2.5(es)-.18 G
(ize to 1024x1024.)-2.5 E/F4 14/Helvetica-Bold@0 SF 3.892
(3.2 Application-transparent)90 516 R(Scaling f)3.892 E(or DMX)-.28 E F3
3.336(3.2.1 Bac)90 536 R(k-end Scaling Without Disconnect/Reconnect)-.24
E F2 1.649(VNC does scaling on the client side \(in the)90 554 R/F5 10
/Courier@0 SF(vncviewer)4.148 E F2 4.148(application\). Implementing)
4.148 F 4.148(as)4.148 G(imilar)-4.148 E .071(solution for DMX would r)
90 566 R(equir)-.18 E 2.572(es)-.18 G .072
(upport in the back-end X servers and, ther)-2.572 F(efor)-.18 E .072
(e, is not a general)-.18 F(solution.)90 578 Q(XFr)90 596 Q .817
(ee86 alr)-.18 F .817(eady implements some support for "scaling" that c\
ould be used with DMX: if, in the)-.18 F .907
(XF86Con\214g \214le, multiple Modes ar)90 608 R 3.408(el)-.18 G .908
(isted in the Display Subsection of the Scr)-3.408 F .908
(een Section, then)-.18 F(pr)90 620 Q 1.039
(essing Ctrl-Alt-Plus and Ctrl-Alt-Minus can be used to iterate thr)-.18
F 1.038(ough the listed modes.)-.18 F(The)6.038 E .736(display dimensio\
ns will change to the dimensions in the Modes line, but the logical dim\
ensions)90 632 R(of the X server \(i.e., the dimensions that Xdmx knows\
 about\) will not change.)90 644 Q(Further)90 662 Q 3.28(,t)-.74 G .78
(he dimensions of the XFr)-3.28 F .78(ee86 display ar)-.18 F 3.28(eu)
-.18 G .78(nder softwar)-3.28 F 3.28(ec)-.18 G(ontr)-3.28 E .78
(ol \(via the XFr)-.18 F(ee86-V)-.18 E(id-)-.55 E .461
(ModeExtension\), so the Xdmx server could change the scr)90 674 R .462
(een dimensions on a per)-.18 F .462(-display basis,)-.18 F(ther)90 686
Q(eby scaling the information on part of that display.)-.18 E(However)90
704 Q 3.687(,t)-.74 G 1.187(his scaling appears to have limited use.)
-3.687 F 1.187(For example, assume a 4 by 4 display wall)6.187 F 1.246
(consisting of 16 1280x1024 displays.)90 716 R 1.246
(If all of the back-end servers wer)6.246 F 3.747(es)-.18 G 1.247
(imultaneously con\214g-)-3.747 F(ur)90 728 Q .862(ed to display 640x48\
0, the left hand corner of each display would be magni\214ed, but the c\
om-)-.18 F .605(posite r)90 740 R .605(esult would be unr)-.18 F 3.105
(eadable. Magnifying)-.18 F .606
(one display at a time could be usable, but could)3.105 F 0 Cg EP
%%Page: 6 6
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Scaled W)90 48 Q(indo)-.4 E 2.5(wS)-.25 G
(upport in DMX)-2.5 E(6)293.77 E/F1 10/Palatino-Roman@0 SF
(have limited utility)90 96 Q 2.5(,s)-1.11 G(ince the r)-2.5 E
(esult would still be no lar)-.18 E(ger than a single display.)-.18 E/F2
12/Helvetica-Bold@0 SF 3.336(3.2.2 Bac)90 116 R
(k-end Scaling With Disconnect/Reconnect)-.24 E F1 .793
(Disconnect and r)90 134 R .793(econnect featur)-.18 F .793(es ar)-.18 F
3.293(en)-.18 G .793(ot curr)-3.293 F .793
(ently supported in DMX, but ar)-.18 F 3.293(es)-.18 G .792
(cheduled to be)-3.293 F 3.342(implemented in the futur)90 146 R 5.842
(e. These)-.18 F(featur)5.842 E 3.342(es, combined with the XFr)-.18 F
(ee86-V)-.18 E(idModeExtension)-.55 E
(Extension, would allow an application to do the following:)90 158 Q/F3
8/Palatino-Roman@0 SF<83>105.152 176 Q F1
(Disconnect a speci\214c back-end server \(via the DMX Extension\),)5 E
F3<83>105.152 194 Q F1 -.18(re)5 G(con\214gur).18 E 2.5(et)-.18 G
(he XFr)-2.5 E(ee86 back-end server r)-.18 E(esolution, and)-.18 E F3
<83>105.152 212 Q F1 -.18(re)5 G
(connect the back-end server to DMX -- at a new origin with the new scr)
.18 E(een r)-.18 E(esolution.)-.18 E .045(For example, consider a displ\
ay wall consisting of 16 1280x1024 displays with a total r)90 230 R .044
(esolution of)-.18 F 2.831(5120x4096. All)90 242 R .331(of the scr)2.831
F .331(eens could be disconnected, r)-.18 F .332(epositioned, and r)-.18
F .332(econnected each at a r)-.18 F(es-)-.18 E .362
(olution of 640x480.)90 254 R .362(The total r)5.362 F .362
(esolution of the display wall would be 2560x1920, allowing a view)-.18
F .776(of a selected ar)90 266 R .776(ea appr)-.18 F .777
(oximately one-fourth of the size of the DMX display.)-.18 F .777
(This change would)5.777 F 1.574
(be completely application independent \(except, per)90 278 R 1.574
(haps, for a DMX-awar)-.18 F 4.074(ew)-.18 G 1.574(indow manager\).)
-4.074 F 1.599(When work at the incr)90 290 R 1.599(eased r)-.18 F 1.599
(esolution was completed, the back-end servers could be discon-)-.18 F
(nected, r)90 302 Q(econ\214gur)-.18 E(ed, and r)-.18 E
(econnected for the original 5120x4096 view.)-.18 E 1.404
(Support for this type of scaling can be implemented in a DMX-awar)90
320 R 3.904(eX)-.18 G 2.504 -.55(11 c)-3.904 H 1.404(lient assuming the)
.55 F .354(DMX server support arbitrary disconnect and r)90 332 R .355
(econnect semantics.)-.18 F .355(Because this application can-)5.355 F
1.262(not be written befor)90 344 R 3.762(ed)-.18 G(isconnect/r)-3.762 E
1.262(econnect is implemented, this solution will not be discussed)-.18
F(further in this paper.)90 356 Q F2 3.336(3.2.3 Ser)90 376 R(ver).12 E
(-side Scaling)-.24 E F1 1.302(In earlier versions of DMX, a frame buf)
90 394 R 1.302(fer was maintained on the server side, and XPutImage)-.18
F .094(was used to move the information fr)90 406 R .094
(om the server to the client \(similar to some early VNC imple-)-.18 F
2.502(mentations\). The)90 418 R .003(use of a server)2.503 F .003
(-side frame buf)-.18 F .003
(fer would allow the server to do scaling, but is not)-.18 F 3.7(ar)90
430 S 1.2
(ecommended solution because of overall performance issues and server)
-3.88 F 1.2(-side memory issues)-.18 F(\(i.e., the frame buf)90 442 Q
(fer would be very lar)-.18 E(ge for lar)-.18 E(ge display walls\).)-.18
E(Exploration of this path is not r)90 460 Q(ecommended.)-.18 E/F4 14
/Helvetica-Bold@0 SF 3.892(3.3 XCreateScaledWindo)90 482 R 3.892(wA)-.21
G(PI)-3.892 E F1 1.048(The implementation of X V)90 500 R 1.049
(ideo Extension in DMX, and the use of XvPutImage by applications)-.55 F
-.18(re)90 512 S .06(quiring scaling r).18 F(equir)-.18 E .059
(es signi\214cant changes in DMX Further)-.18 F 2.559(,X)-.74 G .059
(vPutImage is, essentially a scaled)-2.559 F 1.416
(blit, and it is only useful for applications which ar)90 524 R 3.916
(ea)-.18 G(lr)-3.916 E 1.416(eady using \(or can be modi\214ed to use\))
-.18 F 2.5(XPutImage. Ther)90 536 R(efor)-.18 E(e, a mor)-.18 E 2.5(eg)
-.18 G(eneral API will be discussed as another possibility.)-2.5 E 3.64
(Xa)90 554 S 1.14(pplications typically cr)-3.64 F 1.14
(eate windows with the XCr)-.18 F(eateW)-.18 E 1.14(indow call.)-.55 F
3.64(An)6.14 G 1.14(ew extension could)-3.64 F(pr)90 566 Q .02
(ovide an XCr)-.18 F(eateScaledW)-.18 E .021
(indow call that could be used in place of the XCr)-.55 F(eateW)-.18 E
.021(indow call and)-.55 F 1.14(be otherwise transpar)90 578 R 1.139
(ent to the application.)-.18 F 1.139
(This would allow applications, even those that do)6.139 F .132
(not depend on XPutImage, to take advantage of window scaling.)90 590 R
.132(In this section we describe how)5.132 F .169
(the call would work, what transpar)90 602 R .169(ency it pr)-.18 F .168
(ovides, and how to solve the potential pr)-.18 F .168(oblems that)-.18
F(transpar)90 614 Q(ency cr)-.18 E(eates.)-.18 E F2 3.336
(3.3.1 XCreateWindo)90 634 R(w)-.18 E F1 .889(The XCr)90 652 R(eateW)
-.18 E .889(indow call takes width and height as parameters.)-.55 F .889
(An XCr)5.889 F(eateScaledW)-.18 E .89(indow call)-.55 F(could take all\
 the same parameters, with the addition of a scaling factor.)90 664 Q F2
3.336(3.3.2 XSetWindo)90 684 R(wAttrib)-.18 E(utes)-.24 E F1(An X1)90
702 Q 2.5(1w)-.55 G
(indow has several attributes that would have to be scaled:)-2.5 E F3
<83>105.152 720 Q F1(Backgr)5 E(ound and bor)-.18 E(der pixmaps)-.18 E 0
Cg EP
%%Page: 7 7
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Scaled W)90 48 Q(indo)-.4 E 2.5(wS)-.25 G
(upport in DMX)-2.5 E(7)293.77 E/F1 8/Palatino-Roman@0 SF<83>105.152 96
Q/F2 10/Palatino-Roman@0 SF(Bor)5 E(der width)-.18 E F1<83>105.152 114 Q
F2(Cursor)5 E/F3 12/Helvetica-Bold@0 SF 3.336(3.3.3 XGetWindo)90 134 R
(wAttrib)-.18 E(utes, XGetGeometr)-.24 E(y).12 E F2 1.987(For transpar)
90 152 R(ency)-.18 E 4.487(,c)-1.11 G 1.986
(alls that query the window attributes should r)-4.487 F 1.986
(eturn unscaled information.)-.18 F(This suggests that all unscaled pix\
maps and window attributes should be cached.)90 164 Q(Unfortunately)90
182 Q 4(,aw)-1.11 G 1.5(indow manager r)-4 F(equir)-.18 E 1.5
(es the scaled geometry to pr)-.18 F 1.5(operly decorate the win-)-.18 F
3.348(dow. The)90 194 R 3.348(Xs)3.348 G .848(erver can pr)-3.348 F .847
(obably determine which client is acting as the window manager \(e.g.,)
-.18 F 1.038(because that client will select events that ar)90 206 R
3.538(eu)-.18 G 1.038(sed exclusively by the window manager\).)-3.538 F
(How-)6.038 E(ever)90 218 Q 2.554(,o)-.74 G .054(ther Scaled W)-2.554 F
.054(indow Extension awar)-.55 F 2.554(ec)-.18 G .053
(lients may also need to determine the scaled geome-)-2.554 F 3.774
(try. Ther)90 230 R(efor)-.18 E 1.275(e, at least two additional extens\
ion calls should be implemented: XGetScaledW)-.18 F(in-)-.55 E
(dowAttributes and XGetScaledGeometry.)90 242 Q F3 3.336(3.3.4 P)90 262
R(opup and Child windo)-.48 E 3.336(wp)-.18 G(ositions)-3.336 E F2 1.063
(Some applications may position popup and child windows based on an uns\
caled notion of the)90 280 R(main window geometry.)90 292 Q
(In this case, additional modi\214cations to the client would be r)5 E
(equir)-.18 E(ed.)-.18 E F3 3.336(3.3.5 Events)90 312 R F2 .457
(Most events \(e.g., for mouse motion\) r)90 330 R .457
(eturn information about the coor)-.18 F .457(dinates at which the even)
-.18 F(occurr)90 342 Q 3.177(ed. These)-.18 F(coor)3.177 E .677
(dinates would have to be modi\214ed so that unscaled values wer)-.18 F
3.176(ep)-.18 G -.18(re)-3.176 G(sented).18 E(to the client.)90 354 Q F3
3.336(3.3.6 Implementation)90 374 R F2(Ther)90 392 Q 2.585(ea)-.18 G
.445 -.18(re m)-2.585 H .085
(any implementation issues, some of which ar).18 F 2.585(es)-.18 G .086
(imilar to the issues involved in imple-)-2.585 F 1.191(menting the X V)
90 404 R 1.191(ideo Extension for DMX.)-.55 F 1.19
(The window contents must be scaled, either by per)6.191 F(-)-.18 E .177
(forming all operations to a frame buf)90 416 R .177
(fer and then writing the image to the display \(per)-.18 F .177
(haps using)-.18 F(har)90 428 Q(dwar)-.18 E 4.184(es)-.18 G 1.684(calin\
g support\), or by modifying all of the various drawing operations to p\
erform)-4.184 F 2.5(scaling. Because)90 440 R
(of the complexity involved, the frame buf)2.5 E(fer option is r)-.18 E
(ecommended.)-.18 E/F4 16/Helvetica-Bold@0 SF 4.448(4. Conc)90 470 R
(lusion and Recommendations)-.32 E F2 3.34 -.92(We r)90 488 T 1.5
(ecommend a thr).74 F 1.5(ee phase implementation strategy)-.18 F 4(,b)
-1.11 G 1.5(ased on how an application could be)-4 F
(written to take advantage of scaling:)90 500 Q(1.)102.5 518 Q 1.38
(The XCopyAr)120 536 R 1.38(eaScaled extension should be implemented, s\
ince this is the ideal solution)-.18 F 1.571(for applications like VNC,\
 and since making use of this extension will r)120 548 R(equir)-.18 E
4.071(em)-.18 G(inimal)-4.071 E(changes to applications that alr)120 560
Q(eady use XPutImage or XCopyAr)-.18 E(ea.)-.18 E 1.635
(The initial implementation work would include the design of the X pr)
120 578 R 1.635(otocol extension,)-.18 F 1.367(writing this up in the u\
sual format for extension documentation, implementation of the)120 590 R
(pr)120 602 Q 1.627(otocol transport pieces in XFr)-.18 F 1.626
(ee86, implementation of a softwar)-.18 F 4.126(ef)-.18 G 1.626
(all-back in XFr)-4.126 F(ee86)-.18 E 1.98(and DMX, one example har)120
614 R(dwar)-.18 E 4.48(ei)-.18 G 1.98(mplementation for XFr)-4.48 F 1.98
(ee86, and implementation of)-.18 F(support for this extension in DMX.)
120 626 Q 3.425 -.92(We s)120 644 T 1.585
(uggest implementing the extension \214rst on the A).92 F 1.585
(TI Radeon car)-.74 F 4.085(ds. However)-.18 F 4.085(,s)-.74 G(ince)
-4.085 E .919(these car)120 656 R .919(ds do not pr)-.18 F .919
(ovide a 2D scaled blit primitive, the implementation would have to)-.18
F 1.2(make use of the 3D textur)120 668 R 3.699(ee)-.18 G 1.199
(ngine to emulate a scaled blit.)-3.699 F 1.199(This is r)6.199 F 1.199
(ecommended, since)-.18 F .427(other modern graphics car)120 680 R .427
(ds also do not pr)-.18 F .428
(ovide a simple 2D scaled blit operation and an)-.18 F
(example of the mor)120 692 Q 2.5(ed)-.18 G(if)-2.5 E
(\214cult implementation pathway would be helpful to others.)-.18 E(2.)
102.5 710 Q .379(Until XCopyAr)120 728 R .378
(eaScaled is widely supported, applications that r)-.18 F(equir)-.18 E
2.878(es)-.18 G .378(caling will have to)-2.878 F 1.784
(fall back to another scaling method.)120 740 R 3.624 -.92(We s)6.784 H
1.784(uggest OpenGL as the \214rst fall-back method).92 F 0 Cg EP
%%Page: 8 8
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Scaled W)90 48 Q(indo)-.4 E 2.5(wS)-.25 G
(upport in DMX)-2.5 E(8)293.77 E/F1 10/Palatino-Roman@0 SF
(because it is widely available and supported by DMX.)120 96 Q 2.616(Ap)
120 114 S -.18(ro)-2.616 G .116(ject center).18 F .116(ed ar)-.18 F .116
(ound OpenGL-based scaling would implement this scaling in VNC as)-.18 F
2.043(an example.)120 126 R 2.043(This work would include r)7.043 F
2.044(e-writing the)-.18 F/F2 10/Courier@0 SF(vncviewer)4.544 E F1 -.18
(re)4.544 G 2.044(ndering engine to).18 F
(cache a master copy of the desktop image for all operations.)120 138 Q
(3.)102.5 156 Q 1.38(Since OpenGL is not implemented everywher)120 174 R
1.38(e, and may not pr)-.18 F 1.38(ovide har)-.18 F(dwar)-.18 E
(e-assisted)-.18 E .414
(performance in every implementation, an application that r)120 186 R
(equir)-.18 E .415(es scaling should also fall)-.18 F
(back to using the X V)120 198 Q(ideo Extension.)-.55 E .064(This pr)120
216 R .064(oject would add support for the X V)-.18 F .064
(ideo Extension to DMX and would add support)-.55 F 2.03
(to VNC to take advantage of this extension without intr)120 228 R 2.03
(oducing artifacts.)-.18 F 2.03(This would)7.03 F -.18(re)120 240 S
(quir).18 E 2.687(em)-.18 G .187(odifying the)-2.687 F F2(vncviewer)
2.687 E F1 -.18(re)2.687 G .187
(ndering engine to cache a master copy of the desktop).18 F 1.238
(image for all operations.)120 252 R 1.238(This pr)6.238 F 1.239
(oject should also add support for the RGB format to at)-.18 F
(least one XFr)120 264 Q(ee86 driver \(e.g., A)-.18 E(TI Radeon\).)-.74
E .905(The X V)120 282 R .905(ideo Extension is one of the few popular \
extensions that DMX does not support.)-.55 F 2.412 -.92(We r)120 294 T
.572(ecommend implementing the X V).74 F .572
(ideo Extension even if scaling is the speci\214c goal of)-.55 F
(that work.)120 306 Q 3.32 -.92(We d)90 324 T(o).92 E/F3 10
/Palatino-Bold@0 SF(not)3.979 E F1 -.18(re)3.979 G 1.479
(commend implementation of the XCr).18 F(eateScaledW)-.18 E 1.479
(indow extension because of the)-.55 F .653(complexity involved.)90 336
R 2.493 -.92(We d)5.653 H(o).92 E F3(not)3.153 E F1 -.18(re)3.153 G .653
(commend implementation of the XPutImageScaled extension).18 F 1.318
(because it r)90 348 R(equir)-.18 E 1.318
(es the same amount of work as the XCopyAr)-.18 F 1.317
(eaScaled extension, but pr)-.18 F(ovides)-.18 E 1.967
(less functionality.)90 360 R(Further)6.967 E 4.467(,s)-.74 G(erver)
-4.467 E 1.967(-side scaling with a lar)-.18 F 1.968(ge frame buf)-.18 F
1.968(fer is)-.18 F F3(not)4.468 E F1 -.18(re)4.468 G(commended).18 E
(because of the performance implications.)90 372 Q 1.502
(The back-end scaling, especially with disconnect/r)90 390 R 1.502
(econnect support should be explor)-.18 F 1.501(ed in the)-.18 F(futur)
90 402 Q 2.5(ea)-.18 G(fter disconnect/r)-2.5 E
(econnect is implemented, but not at the pr)-.18 E(esent time.)-.18 E 0
Cg EP
%%Page: 9 9
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Scaled W)90 48 Q(indo)-.4 E 2.5(wS)-.25 G
(upport in DMX)-2.5 E(9)293.77 E 0 Cg EP
%%Page: 10 10
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Palatino-Roman@0 SF(CONTENTS)278.405 96 Q(1.)90 144 Q(Intr)107.5
144 Q(oduction)-.18 E 7.5(.............................................\
.......................................................................\
................ 1)177 144 R(1.1)107.5 156 Q(DMX)130 156 Q 7.5(........\
.......................................................................\
......................................................... 1)167 156 R
(1.2)107.5 168 Q(Pr)130 168 Q(oblem Statement)-.18 E 7.5(..............\
.......................................................................\
........................... 1)227 168 R(1.3)107.5 180 Q -.92(Ta)130 180
S(sk).92 E 7.5(........................................................\
.......................................................................\
.......... 1)164.5 180 R(2.)90 198 Q(Pr)107.5 198 Q(evious W)-.18 E(ork)
-.92 E 7.5(............................................................\
.................................................................... 2)
187 198 R(2.1)107.5 210 Q(VNC)130 210 Q 7.5(...........................\
.......................................................................\
...................................... 2)167 210 R(2.2)107.5 222 Q
(The X V)130 222 Q(ideo Extension)-.55 E 7.5(..........................\
.......................................................................\
........ 2)244.5 222 R(3.)90 240 Q(Possible Solutions)107.5 240 Q 7.5(.\
.......................................................................\
.................................................. 2)202 240 R(3.1)107.5
252 Q(VNC-like Scaling)130 252 Q 7.5(..................................\
.......................................................................\
.......... 2)219.5 252 R(3.2)107.5 264 Q(Application-transpar)130 264 Q
(ent Scaling for DMX)-.18 E 7.5(.......................................\
................................. 5)327 264 R(3.3)107.5 276 Q(XCr)130
276 Q(eateScaledW)-.18 E(indow API)-.55 E 7.5(.........................\
.......................................................................\
. 6)264.5 276 R(4.)90 294 Q(Conclusion and Recommendations)107.5 294 Q
7.5(...................................................................\
......................... 7)277 294 R/F1 8/Courier@0 SF($XFree86: xc/pr\
ograms/Xserver/hw/dmx/doc/scaled.sgml,v 1.2 2005/02/15 01:05:26 dawes E\
xp $)127.5 310 Q/F2 10/Times-Roman@0 SF(i)304.61 768 Q 0 Cg EP
%%Trailer
end
%%EOF
