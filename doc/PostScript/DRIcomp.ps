%!PS-Adobe-3.0
%%Creator: groff version 1.19.2
%%CreationDate: Sun Dec 28 21:38:47 2008
%%DocumentNeededResources: font Helvetica-Bold
%%+ font Palatino-Roman
%%+ font Palatino-Bold
%%+ font Times-Roman
%%+ font Courier
%%+ font Palatino-Italic
%%DocumentSuppliedResources: procset grops 1.19 2
%%Pages: 11
%%PageOrder: Ascend
%%DocumentMedia: Default 612 792 0 () ()
%%Orientation: Portrait
%%EndComments
%%BeginDefaults
%%PageMedia: Default
%%EndDefaults
%%BeginProlog
%%BeginResource: procset grops 1.19 2
%!PS-Adobe-3.0 Resource-ProcSet
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/Fr{
setrgbcolor fill
}bind def
/setcmykcolor where{
pop
/Fk{
setcmykcolor fill
}bind def
}if
/Fg{
setgray fill
}bind def
/FL/fill load def
/LW/setlinewidth load def
/Cr/setrgbcolor load def
/setcmykcolor where{
pop
/Ck/setcmykcolor load def
}if
/Cg/setgray load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
/setpagedevice{}def
}bind def
/PEND{
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%EndProlog
%%BeginSetup
%%BeginFeature: *PageSize Default
<< /PageSize [ 612 792 ] /ImagingBBox null >> setpagedevice
%%EndFeature
%%IncludeResource: font Helvetica-Bold
%%IncludeResource: font Palatino-Roman
%%IncludeResource: font Palatino-Bold
%%IncludeResource: font Times-Roman
%%IncludeResource: font Courier
%%IncludeResource: font Palatino-Italic
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/Euro/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Palatino-Italic@0 ENC0/Palatino-Italic RE/Courier@0 ENC0/Courier RE
/Times-Roman@0 ENC0/Times-Roman RE/Palatino-Bold@0 ENC0/Palatino-Bold RE
/Palatino-Roman@0 ENC0/Palatino-Roman RE/Helvetica-Bold@0 ENC0
/Helvetica-Bold RE
%%EndSetup
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 18/Helvetica-Bold@0 SF(DRI Compilation Guide)207.99 188 Q/F1 10
/Palatino-Roman@0 SF 2.22 -1.11(VA L)181.98 206 T(inux Systems, Inc. Pr)
1.11 E(ofessional Services - Graphics.)-.18 E(21 April 2001)276.72 224 Q
/F2 16/Helvetica-Bold@0 SF 4.448(1. Preamb)90 278 R(le)-.16 E/F3 14
/Helvetica-Bold@0 SF 3.892(1.1 Cop)90 300 R(yright)-.21 E/F4 10
/Palatino-Bold@0 SF(Copyright \251 2000-2001 by V)90 318 Q 2.5(AL)-1.29
G(inux Systems, Inc.)-2.5 E(All Rights Reserved.)5 E .864(Permission is\
 granted to make and distribute verbatim copies of this document provid\
ed the)90 336 R(copyright notice and this permission notice are preserv\
ed on all copies.)90 348 Q F3 3.892(1.2 T)90 370 R(rademarks)-1.12 E F1
.354(OpenGL is a r)90 388 R(egister)-.18 E .354
(ed trademark and SGI is a trademark of Silicon Graphics, Inc.)-.18 F
.355(Unix is a r)5.354 F(eg-)-.18 E(ister)90 400 Q .664
(ed trademark of The Open Gr)-.18 F 3.163(oup. The)-.18 F .663
(`X' device and X W)3.163 F .663(indow System ar)-.55 F 3.163(et)-.18 G
.663(rademarks of)-3.163 F .224(The Open Gr)90 412 R 2.724(oup. XFr)-.18
F .224(ee86 is a r)-.18 F(egister)-.18 E .224(ed trademark of The XFr)
-.18 F .225(ee86 Pr)-.18 F .225(oject, Inc.)-.18 F .225(Linux is a r)
5.225 F(egis-)-.18 E(ter)90 424 Q .687(ed trademark of Linus T)-.18 F
3.187(orvalds. Intel)-.92 F .687(is a r)3.187 F(egister)-.18 E .687
(ed trademark of Intel Corporation.)-.18 F(3Dlabs,)5.686 E(GLINT)90 436
Q 4.248(,a)-.74 G 1.748(nd Oxygen ar)-4.248 F 4.248(ee)-.18 G 1.748
(ither r)-4.248 F(egister)-.18 E 1.749
(ed trademarks or trademarks of 3Dlabs Inc. Ltd.)-.18 F(3dfx,)6.749 E
-1.11(Vo)90 448 S 2.14(odoo3, V)1.11 F 2.14(oodoo4, and V)-1.11 F 2.14
(oodoo5 ar)-1.11 F 4.64(er)-.18 G(egister)-4.82 E 2.14
(ed trademarks of 3dfx Interactive, Incorporated.)-.18 F(Matr)90 460 Q
1.122(ox is a r)-.18 F(egister)-.18 E 1.122(ed trademark of Matr)-.18 F
1.122(ox Electr)-.18 F 1.122(onic Systems Ltd.)-.18 F -.74(AT)6.122 G
3.622(IR).74 G 1.122(age and Radeon is a)-3.622 F -.18(re)90 472 S
(gister).18 E .508(ed trademark of A)-.18 F .508(TI T)-.74 F .508
(echnologies, Inc.)-.92 F .507(All other trademarks mentioned ar)5.508 F
3.007(et)-.18 G .507(he pr)-3.007 F(operty)-.18 E(of their r)90 484 Q
(espective owners.)-.18 E F2 4.448(2. Intr)90 514 R(oduction)-.32 E F1
.993
(This document describes how to download, compile and install the DRI.)
90 532 R .994(The DRI pr)5.994 F .994(ovides 3D)-.18 F .763
(graphics har)90 544 R(dwar)-.18 E 3.263(ea)-.18 G .763
(cceleration for the XFr)-3.263 F .763(ee86 pr)-.18 F 3.262(oject. This)
-.18 F .762(information is intended for experi-)3.262 F
(enced Linux developers.)90 556 Q(Beginners ar)5 E 2.5(ep)-.18 G -.18
(ro)-2.5 G(bably better of).18 E 2.5(fi)-.18 G(nstalling pr)-2.5 E
(ecompiled packages.)-.18 E 3.145(Edits, corr)90 574 R 3.145(ections an\
d updates to this document may be mailed to <brian@tungstengraph-)-.18 F
(ics.com>.)90 586 Q(Last updated on 13 Febr)90 604 Q
(uary 2002 by Brian Paul.)-.08 E F2 4.448(3. Prerequisites)90 634 R F1
-.92(Yo)90 652 S(u'll need the following:).92 E/F5 8/Palatino-Roman@0 SF
<83>105.152 670 Q F1 .381(An installation of XFr)5 F .381
(ee86 4.1 or later.)-.18 F .381(The DRI tr)5.381 F .38(ee has been pr)
-.18 F .38(uned down to minimize its)-.08 F 3.067(size. But)115 682 R
.567(in or)3.067 F .567(der to build the DRI tr)-.18 F .567
(ee you need to have r)-.18 F .568(ecent X header \214les, etc. alr)-.18
F(eady)-.18 E 3.128(installed. If)115 694 R .628(you don't have XFr)
3.128 F .627(ee86 4.1 \(or later\) installed you can pr)-.18 F .627
(obably install it fr)-.18 F(om)-.18 E 1.45
(RPMs \(or another package format\).)115 706 R(Or)6.45 E 3.95(,y)-.74 G
1.45(ou can download XFr)-3.95 F 1.45(ee86 as sour)-.18 F 1.45
(ces and com-)-.18 F(pile/install it yourself.)115 718 Q/F6 10
/Times-Roman@0 SF(DRI Compilation Guide)90 768 Q(1)330.33 E 0 Cg EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(DRI Compilation Guide)90 48 Q(2)330.33 E/F1 8
/Palatino-Roman@0 SF<83>105.152 96 Q/F2 10/Palatino-Roman@0 SF .502
(At least 200MB of fr)5 F .502(ee disk space.)-.18 F .502
(If you compile for debugging \(the -g option\) then you'll)5.502 F
(need about 600MB.)115 108 Q F1<83>105.152 126 Q F2(GCC compiler and r)5
E(elated tools.)-.18 E F1<83>105.152 144 Q F2 .702(ssh \(secur)5 F 3.202
(es)-.18 G .702(hell\) if you'r)-3.202 F 3.202(eaD)-.18 G .702
(RI developer and don't want to use anonymous CVS down-)-3.202 F(load.)
115 156 Q F1<83>105.152 174 Q F2 2.5(A2)5 G(.4.x Linux Kernel.)-2.5 E
(See below for details.)5 E F1<83>105.152 192 Q F2(Fr)5 E
(eeBSD support is not curr)-.18 E
(ently being maintained and may not work.)-.18 E .345
(The DRI 3D drivers generally work on systems with Intel or AMD CPUs.)90
210 R(However)5.345 E 2.845(,l)-.74 G .345(imited sup-)-2.845 F
(port for Alpha and PowerPC support is underway.)90 222 Q 2.84
(For 3dfx V)90 240 R 2.84(oodoo har)-1.11 F(dwar)-.18 E 2.84
(e, you'll also need the Glide3 r)-.18 F 2.84
(untime library \(libglide3-v3.so for)-.08 F -1.11(Vo)90 252 S 1.722
(odoo3 or libglide3-v5.so for V)1.11 F 4.222(oodoo4/5\). These)-1.11 F
1.722(can be downloaded fr)4.222 F 1.721(om the DRI website.)-.18 F -.92
(Yo)90 264 S 2.5(uc).92 G
(an compile them yourself, but it's often a painful pr)-2.5 E(ocess.)
-.18 E .404(For Matr)90 282 R .404(ox G200/G400, Intel i810/i830 or A)
-.18 F .404(TI Rage128/Radeon har)-.74 F(dwar)-.18 E .404
(e, you'll also need AGP)-.18 F
(support in your Linux kernel, either built-in or as a loadable module.)
90 294 Q/F3 16/Helvetica-Bold@0 SF 4.448(4. Lin)90 324 R(ux K)-.16 E
(ernel Preparation)-.24 E F2 .615(Only the Linux 2.4.x kernels ar)90 342
R 3.115(ec)-.18 G(urr)-3.115 E .615(ently supported by the DRI har)-.18
F(dwar)-.18 E 3.115(ed)-.18 G 3.115(rivers. 2.5.x)-3.115 F(kernels)3.115
E(may work, but ar)90 354 Q(en't tested.)-.18 E .482
(Most of the DRI drivers r)90 372 R(equir)-.18 E 2.983(eA)-.18 G .483
(GP support and using Intel Pentium III SSE optimizations also)-2.983 F
-.18(re)90 384 S(quir).18 E .455(es an up-to-date Linux kernel.)-.18 F
.455(Con\214guring your kernel corr)5.455 F .454
(ectly is very important, as fea-)-.18 F(tur)90 396 Q .853(es such as S\
SE optimizations will be disabled if your kernel does not support them.)
-.18 F .854(Thus, if)5.854 F .825(you have a Pentium III pr)90 408 R
(ocessor)-.18 E 3.325(,y)-.74 G .825(ou must con\214gur)-3.325 F 3.325
(ey)-.18 G .824(our kernel for the Pentium III pr)-3.325 F(ocessor)-.18
E(family.)90 420 Q .418(Building a new Linux kernel can be dif)90 438 R
.419(\214cult for beginners but ther)-.18 F 2.919(ea)-.18 G .779 -.18
(re re)-2.919 H(sour).18 E .419(ces on the Internet)-.18 F .511
(to help.)90 450 R .511(This document assumes experience with con\214gu\
ring, building and installing Linux ker)5.511 F(-)-.18 E(nels.)90 462 Q
(Linux kernels can be downloaded fr)90 480 Q(om www.kernel.or)-.18 E(g)
-.18 E(Her)90 498 Q 2.5(ea)-.18 G .36 -.18(re t)-2.5 H
(he basic steps for kernel setup.).18 E F1<83>105.152 516 Q F2 .761
(Download the needed kernel and put it in /usr/sr)5 F 3.261(c. Cr)-.18 F
.761(eate a dir)-.18 F .762(ectory for the sour)-.18 F .762(ce and)-.18
F(unpack it.)115 528 Q(For example:)5 E/F4 8/Courier@0 SF(cd /usr/src)
183 544 Q(rm -f linux)183 554 Q(mkdir linux-2.4.x)183 564 Q
(ln -s linux-2.4.x linux)183 574 Q(bzcat linux-2.4.x.tar.bz2 | tar xf -)
183 584 Q F2 1.94(It is critical that /usr/sr)115 624 R 1.939
(c/linux point to your new kernel sour)-.18 F 1.939
(ces, otherwise the kernel)-.18 F(headers)115 636 Q/F5 10
/Palatino-Bold@0 SF .384(will not)2.884 F F2 .384
(be used when building the DRI.)2.884 F .385
(This will almost certainly cause compila-)5.384 F(tion pr)115 648 Q
(oblems.)-.18 E F1<83>105.152 666 Q F2 1.135(Read /usr/sr)5 F 3.635
(c/linux/Documentation/Changes. This)-.18 F 1.134
(\214le lists the minimum r)3.634 F(equir)-.18 E(ements)-.18 E .09
(for all softwar)115 678 R 2.59(ep)-.18 G .09(ackages r)-2.59 F(equir)
-.18 E .09(ed to build the kernel.)-.18 F -.92(Yo)5.09 G 2.59(um).92 G
.09(ust upgrade at least gcc, make,)-2.59 F .536(binutils and modutils \
to at least the versions speci\214ed in this \214le.)115 690 R .536
(The other packages may)5.536 F 1.448(not be needed.)115 702 R 1.448
(If you ar)6.448 F 3.948(eu)-.18 G 1.449(pgrading fr)-3.948 F 1.449
(om Linux 2.2.x you must upgrade your modutils)-.18 F
(package for Linux 2.4.x.)115 714 Q 0 Cg EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(DRI Compilation Guide)90 48 Q(3)330.33 E/F1 8
/Palatino-Roman@0 SF<83>105.152 96 Q/F2 10/Palatino-Roman@0 SF
(Con\214gur)5 E 2.546(ey)-.18 G .046(our kernel.)-2.546 F -.92(Yo)5.046
G 2.546(um).92 G .045(ight, for example, use)-2.546 F/F3 10/Courier@0 SF
.045(make menuconfig)2.545 F F2 .045(and do the follow-)2.545 F(ing:)115
108 Q F1<83>130.152 138 Q F2(Go to)5 E/F4 10/Palatino-Italic@0 SF
(Code maturity level options)2.5 E F1<83>130.152 156 Q F2(Enable)5 E F4
(Pr)2.5 E(ompt for development and/or incomplete code/drivers)-.18 E F1
<83>130.152 174 Q F2(hit ESC to r)5 E(eturn to the top-level menu)-.18 E
F1<83>130.152 192 Q F2(Go to)5 E F4(Pr)2.5 E(ocessor type and featur)
-.18 E(es)-.18 E F1<83>130.152 210 Q F2(Select your pr)5 E
(ocessor type fr)-.18 E(om)-.18 E F4(Pr)2.5 E(ocessor Family)-.18 E F1
<83>130.152 228 Q F2(hit ESC to r)5 E(eturn to the top-level menu)-.18 E
F1<83>130.152 246 Q F2(Go to)5 E F4(Character devices)2.5 E F1<83>
130.152 264 Q F2(Disable)5 E F4(Dir)3.595 E 1.096
(ect Rendering Manager \(XFr)-.18 F 1.096(ee86 DRI support\))-.18 F F2
1.096(since we'll use the DRI code)3.596 F(fr)140 276 Q(om the XFr)-.18
E(ee86/DRI tr)-.18 E(ee and will compile it ther)-.18 E(e.)-.18 E F1<83>
130.152 294 Q F2(Go to)5 E F4(/dev/agpgart \(AGP Support\) \(EXPERIMENT)
2.5 E(AL\) \(NEW\))-.92 E F1<83>130.152 312 Q F2(Hit SP)5 E
(ACE twice to build AGP support into the kernel)-.92 E F1<83>130.152 330
Q F2(Enable all chipsets' support for AGP)5 E F1<83>130.152 348 Q F2
.832(It's r)5 F .832(ecommended that you turn on MTRRs under)-.18 F F4
(Pr)3.331 E .831(ocessor type and Featur)-.18 F(es)-.18 E F2 3.331(,b)C
.831(ut not)-3.331 F -.18(re)140 360 S(quir).18 E(ed.)-.18 E F1<83>
105.152 378 Q F2(Con\214gur)5 E 2.5(et)-.18 G(he r)-2.5 E
(est of the kernel as r)-.18 E(equir)-.18 E
(ed for your system \(i.e. Ethernet, SCSI, etc\))-.18 E F1<83>105.152
396 Q F2(Exit, saving your kernel con\214guration.)5 E F1<83>105.152 414
Q F2(Edit your /etc/lilo.conf \214le.)5 E(Make sur)5 E 2.5(ey)-.18 G
(ou have an image entry as follows \(or similar\):)-2.5 E/F5 8/Courier@0
SF(image=/boot/vmlinuz)192.6 430 Q(label=linux.2.4.x)221.4 440 Q
(read-only)221.4 450 Q(root=/dev/hda1)221.4 460 Q F2 .876(The important\
 part is that you have /boot/vmlinuz without a trailing version number.)
115 500 R(If)5.877 E .456(this is the \214rst entry in your /etc/lilo.c\
onf AND you haven't set a default, then this will be)115 512 R
(your default kernel.)115 524 Q F1<83>105.152 542 Q F2
(Compile the new kernel.)5 E F5(cd /usr/src/linux-2.4.x)183 558 Q
(make dep)183 568 Q(make bzImage)183 578 Q(make modules)183 588 Q
(make modules_install)183 598 Q(make install)183 608 Q F2
(Note that last make command will automatically r)115 648 Q
(un lilo for you.)-.08 E F1<83>105.152 666 Q F2(Now r)5 E
(eboot to use the new kernel.)-.18 E/F6 16/Helvetica-Bold@0 SF 4.448
(5. CPU)90 696 R(Ar)4.448 E -.16(ch)-.32 G(itectures).16 E F2 .867
(In general, nothing special has to be done to use the DRI on dif)90 714
R(fer)-.18 E .868(ent CPU ar)-.18 F(chitectur)-.18 E 3.368(es. Ther)-.18
F(e)-.18 E(ar)90 726 Q 2.136(e, however)-.18 F 4.636(,af)-.74 G 2.136
(ew optimizations that ar)-4.636 F 4.636(eC)-.18 G 4.636
(PU-dependent. Mesa)-4.636 F 2.135(will determine at r)4.636 F(untime)
-.08 E
(which CPU-dependent optimizations should be used and enable them wher)
90 738 Q 2.5(ea)-.18 G(ppr)-2.5 E(opriate.)-.18 E 0 Cg EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(DRI Compilation Guide)90 48 Q(4)330.33 E/F1 14
/Helvetica-Bold@0 SF 3.892(5.1 Intel)90 100 R -.42(Pe)3.892 G
(ntium III Features).42 E/F2 10/Palatino-Roman@0 SF 1.504
(The Pentium III SSE instr)90 118 R 1.504(uctions ar)-.08 F 4.005(eu)
-.18 G 1.505(sed in optimized vertex transformation functions in the)
-4.005 F 1.545(Mesa-based DRI drivers.)90 130 R 1.545(On Linux, SSE r)
6.545 F(equir)-.18 E 1.545(es a r)-.18 F 1.545
(ecent kernel \(such as 2.4.0-test1)-.18 F 4.045(1o)-.55 G 4.045(rl)
-4.045 G(ater\))-4.045 E(both at compile time and r)90 142 Q(untime.)
-.08 E F1 3.892(5.2 AMD)90 164 R(3DNo)3.892 E(w! Features)-.21 E F2 .562
(AMD's 3DNow! instr)90 182 R .562(uctions ar)-.08 F 3.062(eu)-.18 G .563
(sed in optimized vertex transformation functions in the Mesa-)-3.062 F
(based DRI drivers.)90 194 Q
(3DNow! is supported in most versions of Linux.)5 E F1 3.892(5.3 Alpha)
90 216 R(Features)3.892 E F2 .899(On newer Alpha pr)90 234 R .899
(ocessors a signi\214cant performance incr)-.18 F .898
(ease can be seen with the addition of)-.18 F 1.092
(the -mcpu= option to GCC.)90 246 R 1.093
(This option is dependent on the ar)6.092 F(chitectur)-.18 E 3.593(eo)
-.18 G 3.593(ft)-3.593 G 1.093(he pr)-3.593 F 3.593(ocessor. For)-.18 F
.586(example, -mcpu=ev6 will build speci\214cally for the EV6 based AXP\
's, giving both byte and wor)90 258 R(d)-.18 E
(alignment access to the DRI/Mesa drivers.)90 270 Q 1.84 -.92(To e)90
288 T(nable this optimization edit your xc/con\214g/host.def \214le and\
 add the line:).92 E(#de\214ne DefaultGcc2AxpOpt -O2 -mcpu=ev6)90 306 Q
1.031(Additional speed impr)90 324 R 1.031(ovements to 3D r)-.18 F 1.032
(endering can be achieved by installing Compaq's Math)-.18 F 5.417
(Libraries \(CPML\) which can be obtained fr)90 336 R 5.417
(om http://www.support.compaq.com/alpha-)-.18 F(tools/softwar)90 348 Q
(e/index.html)-.18 E(Once installed, you can add this line to your host\
.def to build with the CPML libraries:)90 366 Q
(#de\214ne UseCompaqMathLibrary YES)90 384 Q
(The host.def \214le is explained below.)90 402 Q/F3 16/Helvetica-Bold@0
SF 4.448(6. Do)90 432 R(wnloading the XFree86/DRI CVS Sour)-.24 E(ces)
-.32 E F2 .278(The DRI pr)90 450 R .278(oject is hosted by Sour)-.18 F
(ceFor)-.18 E 2.778(ge. The)-.18 F .278(DRI sour)2.778 F .278
(ce code, which is a subset of the XFr)-.18 F(ee86)-.18 E(sour)90 462 Q
(ce tr)-.18 E(ee, is kept in a CVS r)-.18 E(epository ther)-.18 E(e.)
-.18 E .853(The DRI CVS sour)90 480 R .853
(ces may be accessed either anonymously or as a r)-.18 F(egister)-.18 E
.852(ed Sour)-.18 F(ceFor)-.18 E .852(ge user.)-.18 F .985(It's r)90 492
R .985(ecommended that you become a r)-.18 F(egister)-.18 E .985
(ed Sour)-.18 F(ceFor)-.18 E .985(ge user so that you may submit non-)
-.18 F(anonymous bug r)90 504 Q
(eports and can participate in the mailing lists.)-.18 E F1 3.892
(6.1 Anon)90 526 R(ymous CVS do)-.28 E(wnload:)-.21 E F2 7.5(1. Cr)102.5
544 R(eate a dir)-.18 E(ectory to stor)-.18 E 2.5(et)-.18 G
(he CVS \214les:)-2.5 E/F4 8/Courier@0 SF(cd ~)197.6 560 Q
(mkdir DRI-CVS)197.6 570 Q F2 -.92(Yo)120 610 S 2.5(uc).92 G
(ould put your CVS dir)-2.5 E(ectory in a dif)-.18 E(fer)-.18 E
(ent place but we'll use)-.18 E/F5 10/Courier@0 SF(~/DRI-CVS/)2.5 E F2
(her)2.5 E(e.)-.18 E 7.5(2. Check)102.5 628 R(out the CVS sour)2.5 E
(ces:)-.18 E F4(cd ~/DRI-CVS)197.6 644 Q
(cvs -d:pserver:anonymous@cvs.dri.sourceforge.net:/cvsroot/dri login)
197.6 654 Q(\(hit ENTER when prompted for a password\))207.2 664 Q(cvs \
-z3 -d:pserver:anonymous@cvs.dri.sourceforge.net:/cvsroot/dri co xc)
197.6 674 Q F2(The -z3 \215ag causes compr)120 702 Q
(ession to be used in or)-.18 E(der to r)-.18 E
(educe the download time.)-.18 E 0 Cg EP
%%Page: 5 5
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(DRI Compilation Guide)90 48 Q(5)330.33 E/F1 14
/Helvetica-Bold@0 SF 3.892(6.2 Registered)90 100 R(CVS do)3.892 E
(wnload:)-.21 E/F2 10/Palatino-Roman@0 SF 7.5(1. Cr)102.5 118 R
(eate a dir)-.18 E(ectory to stor)-.18 E 2.5(et)-.18 G(he CVS \214les:)
-2.5 E/F3 8/Courier@0 SF(cd ~)197.6 134 Q(mkdir DRI-CVS)197.6 144 Q F2
-.92(Yo)120 184 S 2.5(uc).92 G(ould put your CVS dir)-2.5 E
(ectory in a dif)-.18 E(fer)-.18 E(ent place but we'll use)-.18 E/F4 10
/Courier@0 SF(~/DRI-CVS/)2.5 E F2(her)2.5 E(e.)-.18 E 7.5(2. Set)102.5
202 R(the CVS_RSH envir)2.5 E(onment variable:)-.18 E F3
(setenv CVS_RSH ssh)197.6 218 Q(// if using csh or tcsh)28.8 E
(export CVS_RSH=ssh)197.6 228 Q(// if using sh or bash)28.8 E F2 7.5
(3. Check)102.5 256 R(out the CVS sour)2.5 E(ces:)-.18 E F3
(cd ~/DRI-CVS)197.6 272 Q
(cvs -z3 -d:ext:YOURID@cvs.dri.sourceforge.net:/cvsroot/dri co xc)197.6
282 Q F2(Replace)120 322 Q F4(YOURID)2.617 E F2 .117
(with your CVS login name.)2.617 F -.92(Yo)5.117 G .117(u'll be pr).92 F
.117(ompted to enter your sour)-.18 F(cefor)-.18 E(ge)-.18 E(passwor)120
334 Q(d.)-.18 E(The -z3 \215ag causes compr)120 352 Q
(ession to be used in or)-.18 E(der to r)-.18 E
(educe the download time.)-.18 E F1 3.892(6.3 Updating)90 374 R -.35(yo)
3.892 G(ur CVS sour).35 E(ces)-.28 E F2 .29(In the futur)90 392 R 2.79
(ey)-.18 G .29
(ou'll want to occasionally update your local copy of the DRI sour)-2.79
F .29(ce code to get the)-.18 F(latest changes.)90 404 Q
(This can be done with:)5 E F3(cd ~/DRI-CVS)174.8 420 Q
(cvs -z3 update -dA xc)174.8 430 Q F2 .533
(The -d \215ag causes any new subdir)90 470 R .533(ectories to be cr)
-.18 F .533(eated and -A causes most r)-.18 F .533(ecent tr)-.18 F .533
(unk sour)-.08 F(ces)-.18 E(to be fetched, not branch sour)90 482 Q
(ces.)-.18 E/F5 16/Helvetica-Bold@0 SF 4.448(7. Mesa)90 512 R F2 .039
(Most of the DRI 3D drivers ar)90 530 R 2.539(eb)-.18 G .039
(ased on Mesa \(the fr)-2.539 F .04
(ee implementation of the OpenGL API\).)-.18 F(The)5.04 E -.18(re)90 542
S .599(levant \214les fr).18 F .598(om Mesa ar)-.18 F 3.098(ea)-.18 G
(lr)-3.098 E .598(eady included in the XFr)-.18 F .598(ee86/DRI sour)
-.18 F .598(ce tr)-.18 F(ee.)-.18 E/F6 10/Palatino-Italic@0 SF(Ther)
5.598 E 3.098(ei)-.18 G 3.098(sn)-3.098 G 3.098(on)-3.098 G .598(eed to)
-3.098 F(download or install the Mesa sour)90 554 Q
(ce \214les separately.)-.18 E F2 .528(Sometimes a newer version of Mes\
a will be available than the version included in XFr)90 572 R(ee86/DRI.)
-.18 E 1.64(Upgrading Mesa within XFr)90 584 R 1.639
(ee86/DRI is not always straightforwar)-.18 F 4.139(d. It)-.18 F 1.639
(can be an err)4.139 F(or)-.18 E(-pr)-.18 E(one)-.18 E 1.191
(undertaking, especially for beginners, and is not generally r)90 596 R
3.691(ecommended. The)-.18 F 1.191(DRI developers)3.691 F
(will upgrade Mesa when appr)90 608 Q(opriate.)-.18 E F5 4.448
(8. Compiling)90 638 R(the XFree86/DRI tree)4.448 E F1 3.892(8.1 Make)90
660 R 3.892(ab)3.892 G(uild tree)-4.172 E F2 .372(Rather than placing o\
bject \214les and library \214les right in the sour)90 678 R .372(ce tr)
-.18 F .372(ee, they'r)-.18 F 2.871(ei)-.18 G .371(nstead put into a)
-2.871 F(parallel)90 690 Q F6(build)2.5 E F2(tr)2.5 E 2.5(ee. The)-.18 F
(build tr)2.5 E(ee is made with the)-.18 E F4(lndir)2.5 E F2(command:)
2.5 E 0 Cg EP
%%Page: 6 6
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(DRI Compilation Guide)90 48 Q(6)330.33 E/F1 8
/Courier@0 SF(cd ~/DRI-CVS)167.6 94 Q(ln -s xc XFree40)167.6 104 Q
(mkdir build)167.6 114 Q(cd build)167.6 124 Q
(lndir -silent -ignorelinks ../XFree40)167.6 134 Q/F2 10
/Palatino-Roman@0 SF(The build tr)90 162 Q(ee will be populated with sy\
mbolic links which point back into the CVS sour)-.18 E(ce tr)-.18 E(ee.)
-.18 E(Advanced users may have several build tr)90 180 Q
(ees for compiling and testing with dif)-.18 E(fer)-.18 E(ent options.)
-.18 E/F3 14/Helvetica-Bold@0 SF 3.892(8.2 Edit)90 202 R
(the host.def \214le)3.892 E F2(The)90 220 Q/F4 10/Courier@0 SF
(~/DRI-CVS/build/xc/config/cf/host.def)3.067 E F2 .568
(\214le is used to con\214gur)3.067 F 3.068(et)-.18 G .568(he XFr)-3.068
F .568(ee86 build)-.18 F(pr)90 232 Q 2.832(ocess. Y)-.18 F .331(ou can \
change it to customize your build options or make adjustments for your \
partic-)-.92 F(ular system con\214guration)90 244 Q(The default)90 262 Q
F4(host.def)2.5 E F2(\214le will look something like this:)2.5 E F1
(#define DefaultCCOptions -Wall)167.6 278 Q 24(\(i386\) #define)110 288
R(DefaultGcc2i386Opt -O2)4.8 E 19.2(\(Alpha\) #define)110 298 R
(DefaultGcc2AxpOpt -O2 -mcpu=ev6 \(or similar\))4.8 E
(#define LibraryCDebugFlags -O2)167.6 308 Q
(#define BuildServersOnly YES)167.6 318 Q
(#define XF86CardDrivers vga tdfx mga ati i810)167.6 328 Q
(#define LinuxDistribution LinuxRedHat)167.6 338 Q
(#define DefaultCCOptions -ansi GccWarningOptions -pipe)167.6 348 Q
(#define BuildXF86DRI YES)167.6 358 Q
(/* Optionally turn these on for debugging */)167.6 368 Q
(/* #define GlxBuiltInTdfx YES */)167.6 378 Q
(/* #define GlxBuiltInMga YES */)167.6 388 Q
(/* #define GlxBuiltInR128 YES */)167.6 398 Q
(/* #define GlxBuiltInRadeon YES */)167.6 408 Q
(/* #define DoLoadableServer NO */)167.6 418 Q(#define SharedLibFont NO)
167.6 428 Q F2(The)90 468 Q F4(ProjectRoot)3.67 E F2 1.171
(variable speci\214es wher)3.67 F 3.671(et)-.18 G 1.171(he XFr)-3.671 F
1.171(ee86 \214les will be installed.)-.18 F 3.011 -.92(We r)6.171 H
(ecommend).74 E .742(installing the DRI \214les over your existing XFr)
90 480 R .741(ee86 installation - it's generally safe to do and less)
-.18 F(err)90 492 Q(or)-.18 E(-pr)-.18 E 2.5(one. This)-.18 F
(policy is dif)2.5 E(fer)-.18 E(ent than what we used to r)-.18 E
(ecommend.)-.18 E .53(If XFr)90 510 R .53
(ee86 4.x is not installed in /usr/X1)-.18 F .53
(1R6/ you'll have to add the following to the)-.55 F F4(host.def)3.03 E
F2(\214le:)90 522 Q F1
(#define ProjectRoot pathToYourXFree86installation)167.6 538 Q F2
(Note the)90 566 Q/F5 10/Palatino-Italic@0 SF(XF86CardDrivers)2.5 E F2
(line to be sur)2.5 E 2.5(ey)-.18 G(our car)-2.5 E
(d's driver is listed.)-.18 E .997(If you want to enable 3DNow! optimiz\
ations in Mesa and the DRI drivers, you should add the)90 584 R
(following:)90 596 Q F1(#define MesaUse3DNow YES)167.6 612 Q F2 -.92(Yo)
90 652 S 3.155(ud).92 G .655(on't have to be using an AMD pr)-3.155 F
.656(ocessor in or)-.18 F .656(der to enable this option.)-.18 F .656
(The DRI will look)5.656 F(for 3DNow! support and r)90 664 Q
(untime and only enable it if applicable.)-.08 E 1.305(If you want to e\
nable SSE optimizations in Mesa and the DRI drivers, you)90 682 R/F6 10
/Palatino-Bold@0 SF(must)3.805 E F2 1.305(upgrade to a)3.805 F .337
(Linux 2.4.x kernel.)90 694 R .337
(Mesa will verify that SSE is supported by both your pr)5.337 F(ocessor)
-.18 E F5(and)2.838 E F2 .338(your oper)2.838 F(-)-.18 E .123(ating sys\
tem, but to build Mesa inside the DRI you need to have the Linux 2.4.x \
kernel headers in)90 706 R(/usr/sr)90 718 Q 3.681(c/linux. If)-.18 F
1.181(you enable SSE optimizations with an earlier version of the Linux\
 kernel in)3.681 F(/usr/sr)90 730 Q 1.024(c/linux, Mesa)-.18 F F6 1.024
(will not compile)3.524 F F2 6.024(.Y)C 1.023(ou have been warned.)
-6.944 F 1.023(If you do have a 2.4.x kernel,)6.023 F
(you should add the following:)90 742 Q 0 Cg EP
%%Page: 7 7
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(DRI Compilation Guide)90 48 Q(7)330.33 E/F1 8
/Courier@0 SF(#define MesaUseSSE YES)167.6 94 Q/F2 10/Palatino-Roman@0
SF(If you want to build the DRM kernel modules as part of the full buil\
d pr)90 122 Q(ocess, add the following:)-.18 E F1
(#define BuildXF86DRM YES)167.6 138 Q F2
(Otherwise, you'll need to build them separately as described below.)90
178 Q/F3 14/Helvetica-Bold@0 SF 3.892(8.3 Compilation)90 200 R F2 1.84
-.92(To c)90 218 T(ompile the complete DRI tr).92 E(ee:)-.18 E F1
(cd ~/DRI-CVS/build/xc/)167.6 234 Q(make World >& world.log)167.6 244 Q
F2(Or if you want to watch the compilation pr)90 284 Q(ogr)-.18 E(ess:)
-.18 E F1(cd ~/DRI-CVS/build/xc/)167.6 300 Q(make World >& world.log &)
167.6 310 Q(tail -f world.log)167.6 320 Q F2 -.55(Wi)90 360 S(th the de\
fault compilation \215ags it's normal to get a lot of warnings during c\
ompilation.).55 E(Building will take some time so you may want to go ch\
eck your email or visit slashdot.)90 378 Q/F4 10/Palatino-Italic@0 SF
-.92(WA)90 396 S(RNING:).92 E F2 2.985
(do not use the -j option with make.)5.485 F 2.985(It's r)7.985 F 2.985
(eported that it does not work with)-.18 F(XFr)90 408 Q(ee86/DRI.)-.18 E
F3 3.892(8.4 Chec)90 430 R 3.892(kf)-.28 G(or compilation err)-4.172 E
(or)-.28 E(s)-.21 E F2(Using your text editor)90 448 Q 2.5(,e)-.74 G
(xamine)-2.5 E/F5 10/Courier@0 SF(world.log)2.5 E F2(for err)2.5 E
(ors by sear)-.18 E(ching for the pattern)-.18 E F5(***)2.5 E F2(.)A
.312(After \214xing the err)90 466 R .312(ors, r)-.18 F(un)-.08 E F5
.311(make World)2.811 F F2 2.811(again. Later)2.811 F 2.811(,y)-.74 G
.311(ou might just compile parts of the sour)-2.811 F(ce)-.18 E(tr)90
478 Q(ee but it's important that the whole tr)-.18 E
(ee will build \214rst.)-.18 E .733(If you edited your host.def \214le \
to enable automatic building of the DRI kernel module\(s\), verify)90
496 R(that they wer)90 508 Q 2.5(eb)-.18 G(uilt:)-2.5 E F1(cd ~/DRI-CVS\
/build/xc/programs/Xserver/hw/xfree86/os-support/linux/drm/kernel)158
524 Q(ls)158 534 Q F2(Otherwise, build them now by r)90 574 Q(unning)
-.08 E F1(cd ~/DRI-CVS/build/xc/programs/Xserver/hw/xfree86/os-support/\
linux/drm/kernel)158 590 Q(make -f Makefile.linux)158 600 Q F2 1.143
(For the 3dfx V)90 628 R 1.143(oodoo, you should see)-1.11 F F4(tdfx.o)
3.643 E F2 6.143(.F)C 1.143(or the Matr)-6.143 F 1.142
(ox G200/G400, you should see)-.18 F F4(mga.o)3.642 E F2(.)A .882
(For the A)90 640 R .883(TI Rage 128, you should see)-.74 F F4(r128.o)
3.383 E F2 5.883(.F)C .883(or the A)-5.883 F .883
(TI Radeon, you should see)-.74 F F4(radeon.o)3.383 E F2 5.883(.F)C(or)
-5.883 E(the Intel i810, you should see)90 652 Q F4(i810.o)2.5 E F2(.)A
.703(If the DRI kernel module\(s\) failed to build you should verify th\
at you'r)90 670 R 3.202(eu)-.18 G .702(sing the right version)-3.202 F
(of the Linux kernel.)90 682 Q(The most r)5 E(ecent kernels ar)-.18 E
2.5(en)-.18 G(ot always supported.)-2.5 E .863
(If your build machine is r)90 700 R .863(unning a dif)-.08 F(fer)-.18 E
.863(ent version of the kernel than your tar)-.18 F .864
(get machine \(i.e.)-.18 F .732
(2.2.x vs. 2.4.x\), make will select the wr)90 712 R .732
(ong kernel sour)-.18 F .732(ce tr)-.18 F .731
(ee. This can be \214xed by explicitly set-)-.18 F(ting the value of)90
724 Q F5(LINUXDIR)2.5 E F2 5(.I)C 2.5(ft)-5 G
(he path to your kernel sour)-2.5 E(ce is)-.18 E F5
(/usr/src/linux-2.4.x)2.5 E F2(,)A 0 Cg EP
%%Page: 8 8
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(DRI Compilation Guide)90 48 Q(8)330.33 E/F1 8
/Courier@0 SF(cd ~/DRI-CVS/build/xc/programs/Xserver/hw/xfree86/os-supp\
ort/linux/drm/kernel)158 94 Q
(make -f Makefile.linux LINUXDIR=/usr/src/linux-2.4.x)158 104 Q/F2 10
/Palatino-Roman@0 SF(or alternatively)90 144 Q 2.5(,e)-1.11 G
(dit Make\214le.linux to set)-2.5 E/F3 10/Courier@0 SF(LINUXDIR)2.5 E F2
(befor)2.5 E 2.5(et)-.18 G(he)-2.5 E F3(ifndef LINUXDIR)2.5 E F2(line.)
2.5 E/F4 14/Helvetica-Bold@0 SF 3.892(8.5 DRI)90 166 R
(kernel module installation)3.892 E F2 19.951
(The DRI kernel modules will be in)90 184 R F3(~/DRI-CVS/build/xc/pro-)
22.452 E(grams/Xserver/hw/xfree86/os-support/linux/drm/kernel/)90 196 Q
F2(.)A 3.81 -.92(To l)90 214 T 1.97(oad the appr).92 F 1.97
(opriate DRM module in your r)-.18 F 1.97
(unning kernel you can either use ismod and)-.08 F -.18(re)90 226 S
2.227(start your X server or copy the kernel module to).18 F F3
(/lib/modules/2.4.x/kernel/driv-)4.727 E(ers/char/drm/)90 238 Q F2
(then r)2.5 E(un depmod and r)-.08 E(estart your X server.)-.18 E
(Make sur)90 256 Q 2.5(ey)-.18 G
(ou \214rst unload any older DRI kernel modules that might be alr)-2.5 E
(eady loaded.)-.18 E(Note that some DRM modules r)90 274 Q(equir)-.18 E
2.5(et)-.18 G(hat the)-2.5 E F3(agpgart)2.5 E F2
(module be loaded \214rst.)2.5 E/F5 16/Helvetica-Bold@0 SF 4.448
(9. Normal)90 304 R(Installation and Con\214guration)4.448 E F2 .13(Mos\
t users will want to install the new X server and use it in place of th\
eir old X server.)90 322 R .13(This sec-)5.13 F
(tion explains how to do that.)90 334 Q .364(Developers, on the other h\
and, may just want to test the X server without actually installing it \
as)90 352 R(their default server.)90 364 Q
(If you want to do that, skip to the next section.)5 E F4 3.892
(9.1 Installation)90 386 R F2(Her)90 404 Q 2.5(ea)-.18 G .36 -.18(re t)
-2.5 H(he installation commands:).18 E F1(su)174.8 420 Q
(cd ~/DRI-CVS/build/xc)174.8 430 Q(make install)174.8 440 Q F4 3.892
(9.2 Update)90 472 R(the XF86Con\214g File)3.892 E F2 -.92(Yo)90 490 S
3.018(um).92 G .517
(ay need to edit your XF86Con\214g \214le to enable the DRI.)-3.018 F
.517(The con\214g \214le is usually installed)5.517 F(as)90 502 Q F3
(/etc/X11/XF86Config-4)3.891 E F2 6.391(.S)C 1.391
(ee the DRI User Guide for details, but basically)-6.391 F 3.892(,y)
-1.11 G 1.392(ou need to)-3.892 F
(load the "glx" and "dri" modules and add a "DRI" section.)90 514 Q .547
(On the DRI web site, in the r)90 532 R(esour)-.18 E .546
(ces section, you'll \214nd example XF86Con\214g \214les for a number)
-.18 F .969(of graphics car)90 544 R 3.469(ds. These)-.18 F .969
(con\214guration \214les also setup DRI options so it's highly r)3.469 F
(ecommended)-.18 E(that you look at these examples.)90 556 Q(The XFr)90
574 Q
(ee86 4.x server can generate a basic con\214guration \214le itself.)
-.18 E(Simply do this:)5 E F1(cd /usr/X11R6/bin)172.4 590 Q
(./XFree86 -configure)172.4 600 Q F2 2.665<418c>90 640 S .165(le named)
-2.665 F F3(/root/XF86Config.new)2.665 E F2 .165(will be cr)2.665 F
2.665(eated. It)-.18 F .164(should allow you to try your X server)2.665
F 2.803(but you'll almost certainly have to edit it.)90 652 R 2.803
(For example, you should add)7.803 F F3(HorizSync)5.303 E F2(and)5.303 E
F3(VertRefresh)90 664 Q F2 .565(options to the)3.065 F F3(Monitor)3.065
E F2 .565(section and)3.065 F F3(Modes)3.065 E F2 .564(options to the)
3.065 F F3(Screen)3.064 E F2 3.064(section. Also,)3.064 F(the)90 676 Q
F3(ModulePath)2.5 E F2(option in the)2.5 E F3(Files)2.5 E F2
(section should be set to)2.5 E F3(/usr/X11R6/lib/modules)2.5 E F2(.)A
F4 3.892(9.3 Star)90 698 R 3.892(tt).28 G(he Ne)-3.892 E 3.892(wXS)-.21
G -3.752(er ver)-3.892 F F2 .487(The new X server should be r)90 716 R
.488(eady to use now.)-.18 F .488
(Start your X server in your usual manner.)5.488 F(Often)5.488 E
(times the)90 728 Q F3(startx)2.5 E F2(command is used:)2.5 E 0 Cg EP
%%Page: 9 9
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(DRI Compilation Guide)90 48 Q(9)330.33 E/F1 8
/Courier@0 SF(startx)172.4 94 Q/F2 16/Helvetica-Bold@0 SF 4.448(10. T)90
134 R(esting the Ser)-.96 E(ver Without Installing It).16 E/F3 10
/Palatino-Roman@0 SF .72(As mentioned at the start of section 9, develo\
pers may want to simply r)90 152 R .72(un the X server without)-.08 F
.522(installing it.)90 164 R .523(This can save some time and allow you\
 to keep a number of X servers available for)5.522 F(testing.)90 176 Q
/F4 14/Helvetica-Bold@0 SF 3.892(10.1 Con\214guration)90 198 R F3 .064
(As described in the pr)90 216 R .064
(eceding section, you'll need to cr)-.18 F .063
(eate a con\214guration \214le for the new server.)-.18 F(Put the)90 228
Q/F5 10/Courier@0 SF(XF86Config)2.5 E F3(\214le in your)2.5 E F5
(~/DRI-CVS/build/xc/programs/Xserver)2.5 E F3(dir)2.5 E(ectory.)-.18 E
(Be sur)90 246 Q 2.5(et)-.18 G(he)-2.5 E F5(ModulePath)2.5 E F3
(option in your XF86Con\214g \214le is set corr)2.5 E(ectly.)-.18 E F4
3.892(10.2 A)90 268 R -3.612(Star tup)3.892 F(Script)3.892 E F3 2.5(As)
90 286 S(imple shell script can be used to start the X server.)-2.5 E
(Her)5 E(e's an example.)-.18 E F1(#!/bin/sh)160.4 302 Q
(export DISPLAY=:0)160.4 312 Q(./XFree86 -xf86config XF86Config & \\)
160.4 322 Q(sleep 2)160.4 332 Q(fvwm2 &)160.4 342 Q(xset b off)160.4 352
Q(xmodmap -e "clear mod4")160.4 362 Q(xsetroot -solid "#00306f")160.4
372 Q(xterm -geometry 80x40+0+0)160.4 382 Q F3 -.92(Yo)90 422 S 7.467
(um).92 G 4.967(ight name this script)-7.467 F F5(start-dri)7.467 E F3
9.967(.P)C 4.967(ut it in your)-9.967 F F5(~/DRI-CVS/build/xc/pro-)7.467
E(grams/Xserver)90 434 Q F3(dir)2.5 E(ectory.)-.18 E 1.84 -.92(To t)90
452 T(est the server r).92 E(un the script:)-.08 E F1
(cd ~/DRI-CVS/build/xc/programs/Xserver)172.4 468 Q(./start-dri)172.4
478 Q F3 .518(For debugging, you may also want to captur)90 518 R 3.018
(et)-.18 G .518(he log messages printed by the server in a \214le.)
-3.018 F(If)5.517 E(you'r)90 530 Q 2.5(eu)-.18 G(sing the C-shell:)-2.5
E F1(./start-dri >& log)172.4 546 Q F2 4.448(11. Where)90 586 R 2.56
-1.28(To G)4.448 H 4.448(oF)1.28 G -.32(ro)-4.448 G 4.448(mH).32 G(ere)
-4.448 E F3 .867(At this point your X server should be up and r)90 604 R
.867(unning with har)-.08 F(dwar)-.18 E .868(e-accelerated dir)-.18 F
.868(ect r)-.18 F(ender)-.18 E(-)-.18 E 3.134(ing. Please)90 616 R -.18
(re)3.134 G .633(ad the DRI User Guide for information about tr).18 F
.633(ouble shooting and how to use the)-.18 F
(DRI-enabled X server for 3D applications.)90 628 Q 0 Cg EP
%%Page: 10 10
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(DRI Compilation Guide)90 48 Q(10)325.33 E 0 Cg
EP
%%Page: 11 11
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Palatino-Roman@0 SF(CONTENTS)278.405 96 Q(1.)90 144 Q(Pr)107.5
144 Q(eamble)-.18 E 7.5(...............................................\
.......................................................................\
.................... 1)162 144 R(1.1)107.5 156 Q(Copyright)130 156 Q 7.5
(......................................................................\
......................................................... 1)189.5 156 R
(1.2)107.5 168 Q -.9(Tr)130 168 S(ademarks).9 E 7.5(...................\
.......................................................................\
.................................. 1)197 168 R(2.)90 186 Q(Intr)107.5
186 Q(oduction)-.18 E 7.5(.............................................\
.......................................................................\
................ 1)177 186 R(3.)90 204 Q(Pr)107.5 204 Q(er)-.18 E
(equisites)-.18 E 7.5(.................................................\
.......................................................................\
........... 1)179.5 204 R(4.)90 222 Q(Linux Kernel Pr)107.5 222 Q
(eparation)-.18 E 7.5(.................................................\
............................................................ 2)234.5 222
R(5.)90 240 Q(CPU Ar)107.5 240 Q(chitectur)-.18 E(es)-.18 E 7.5(.......\
.......................................................................\
........................................... 3)204.5 240 R(5.1)107.5 252
Q(Intel Pentium III Featur)130 252 Q(es)-.18 E 7.5(....................\
.......................................................................\
......... 4)257 252 R(5.2)107.5 264 Q(AMD 3DNow! Featur)130 264 Q(es)
-.18 E 7.5(............................................................\
........................................... 4)249.5 264 R(5.3)107.5 276
Q(Alpha Featur)130 276 Q(es)-.18 E 7.5(................................\
.......................................................................\
............... 4)212 276 R(6.)90 294 Q(Downloading the XFr)107.5 294 Q
(ee86/DRI CVS Sour)-.18 E(ces)-.18 E 7.5(..............................\
............................................. 4)319.5 294 R(6.1)107.5
306 Q(Anonymous CVS download:)130 306 Q 7.5(...........................\
................................................................... 4)
272 306 R(6.2)107.5 318 Q(Register)130 318 Q(ed CVS download:)-.18 E 7.5
(......................................................................\
............................ 5)262 318 R(6.3)107.5 330 Q
(Updating your CVS sour)130 330 Q(ces)-.18 E 7.5(......................\
.......................................................................\
... 5)267 330 R(7.)90 348 Q(Mesa)107.5 348 Q 7.5(......................\
.......................................................................\
.................................................... 5)144.5 348 R(8.)90
366 Q(Compiling the XFr)107.5 366 Q(ee86/DRI tr)-.18 E(ee)-.18 E 7.5(..\
.......................................................................\
....................... 5)267 366 R(8.1)107.5 378 Q(Make a build tr)130
378 Q(ee)-.18 E 7.5(...................................................\
............................................................... 5)222
378 R(8.2)107.5 390 Q(Edit the host.def \214le)130 390 Q 7.5(..........\
.......................................................................\
............................. 6)232 390 R(8.3)107.5 402 Q(Compilation)
130 402 Q 7.5(.........................................................\
.................................................................. 7)
199.5 402 R(8.4)107.5 414 Q(Check for compilation err)130 414 Q(ors)-.18
E 7.5(.................................................................\
............................. 7)272 414 R(8.5)107.5 426 Q
(DRI kernel module installation)130 426 Q 7.5(.........................\
.................................................................. 8)
279.5 426 R(9.)90 444 Q(Normal Installation and Con\214guration)107.5
444 Q 7.5(.............................................................\
......................... 8)292 444 R(9.1)107.5 456 Q(Installation)130
456 Q 7.5(.............................................................\
................................................................ 8)194.5
456 R(9.2)107.5 468 Q(Update the XF86Con\214g File)130 468 Q 7.5(......\
.......................................................................\
................... 8)267 468 R(9.3)107.5 480 Q(Start the New X Server)
130 480 Q 7.5(.........................................................\
................................................ 8)244.5 480 R(10.)90
498 Q -.92(Te)107.5 498 S(sting the Server W).92 E(ithout Installing It)
-.55 E 7.5(............................................................\
.......................... 9)292 498 R(10.1)107.5 510 Q(Con\214guration)
130 510 Q 7.5(.........................................................\
............................................................... 9)207
510 R(10.2)107.5 522 Q 2.5(AS)130 522 S(tartup Script)-2.5 E 7.5(......\
.......................................................................\
........................................ 9)214.5 522 R -.55(11)90 540 S
(.).55 E(Wher)107.5 540 Q 2.5(eT)-.18 G 2.5(oG)-3.42 G 2.5(oF)-2.5 G
-.18(ro)-2.5 G 2.5(mH).18 G(er)-2.5 E(e)-.18 E 7.5(....................\
.......................................................................\
.................... 9)229.5 540 R/F1 8/Courier@0 SF($XFree86: xc/progr\
ams/Xserver/hw/xfree86/doc/sgml/DRIcomp.sgml,v 1.21 2004/12/08 22:27:11\
 dawes Exp $)127.5 556 Q/F2 10/Times-Roman@0 SF(i)304.61 768 Q 0 Cg EP
%%Trailer
end
%%EOF
